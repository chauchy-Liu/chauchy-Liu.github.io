<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>unity | 和其光, 同其尘</title><meta name="keywords" content="c#"><meta name="author" content="刘传玺"><meta name="copyright" content="刘传玺"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="Unity unity是一个游戏引擎，其中uinity3d代表作&lt;王者荣耀&gt;版本4.6。unity4.0开始支持跨平台（一次开发 多平台发布）。 unity2017之前支持的开发脚本：C#, Js, Boo，之后只支持C#（微软对抗java）。  调节工具 Unity 编辑器左上角的一组按钮，正好也对应着键盘左上角的字母：    图标           快捷键 Q W E R T Y">
<meta property="og:type" content="article">
<meta property="og:title" content="unity">
<meta property="og:url" content="http://chauchy-liu.github.io/2025/11/12/unity/index.html">
<meta property="og:site_name" content="和其光, 同其尘">
<meta property="og:description" content="Unity unity是一个游戏引擎，其中uinity3d代表作&lt;王者荣耀&gt;版本4.6。unity4.0开始支持跨平台（一次开发 多平台发布）。 unity2017之前支持的开发脚本：C#, Js, Boo，之后只支持C#（微软对抗java）。  调节工具 Unity 编辑器左上角的一组按钮，正好也对应着键盘左上角的字母：    图标           快捷键 Q W E R T Y">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://hexo-theme-snippet-1251680922.cos.ap-beijing.myqcloud.com/img/banner.jpg">
<meta property="article:published_time" content="2025-11-12T12:06:59.000Z">
<meta property="article:modified_time" content="2026-01-14T10:56:53.239Z">
<meta property="article:author" content="刘传玺">
<meta property="article:tag" content="c#">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hexo-theme-snippet-1251680922.cos.ap-beijing.myqcloud.com/img/banner.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://chauchy-liu.github.io/2025/11/12/unity/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/img/pwa/manifest.json"/><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"/><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'unity',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2026-01-14 18:56:53'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/touxiang.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://hexo-theme-snippet-1251680922.cos.ap-beijing.myqcloud.com/img/banner.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">和其光, 同其尘</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">unity</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-11-12T12:06:59.000Z" title="发表于 2025-11-12 20:06:59">2025-11-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2026-01-14T10:56:53.239Z" title="更新于 2026-01-14 18:56:53">2026-01-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%9B%BE%E5%BD%A2/">图形</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%9B%BE%E5%BD%A2/%E6%B8%B2%E6%9F%93/">渲染</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%9B%BE%E5%BD%A2/%E6%B8%B2%E6%9F%93/%E6%B8%B8%E6%88%8F/">游戏</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">17.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>71分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="unity"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>Unity</h1>
<p>unity是一个游戏引擎，其中uinity3d代表作&lt;王者荣耀&gt;版本4.6。unity4.0开始支持跨平台（一次开发 多平台发布）。</p>
<p>unity2017之前支持的开发脚本：C#, Js, Boo，之后只支持C#（微软对抗java）。</p>
<p><img src="/2025/11/12/unity/image-20251113195352041.png" alt="image-20251113195352041"></p>
<h3 id="调节工具">调节工具</h3>
<p>Unity 编辑器左上角的一组按钮，正好也对应着键盘左上角的字母：</p>
<table>
<thead>
<tr>
<th style="text-align:left">图标</th>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">快捷键</td>
<td style="text-align:left">Q</td>
<td style="text-align:left">W</td>
<td style="text-align:left">E</td>
<td style="text-align:left">R</td>
<td style="text-align:left">T</td>
<td style="text-align:left">Y</td>
</tr>
<tr>
<td style="text-align:left">英文</td>
<td style="text-align:left">Hand Tool</td>
<td style="text-align:left">Move Tool</td>
<td style="text-align:left">Rotate Tool</td>
<td style="text-align:left">Scale Tool</td>
<td style="text-align:left">Rect Tool</td>
<td style="text-align:left">Move, Rotate or Scale selected objects</td>
</tr>
<tr>
<td style="text-align:left">中文</td>
<td style="text-align:left">手形工具</td>
<td style="text-align:left">移动工具</td>
<td style="text-align:left">旋转工具</td>
<td style="text-align:left">缩放工具</td>
<td style="text-align:left">矩形工具</td>
<td style="text-align:left">移动、旋转或缩放选定对象</td>
</tr>
<tr>
<td style="text-align:left">功能</td>
<td style="text-align:left">在整个场景中移动漫游</td>
<td style="text-align:left">按坐标轴移动选定对象</td>
<td style="text-align:left">按三个维度旋转对象</td>
<td style="text-align:left">在三个维度上缩放对象</td>
<td style="text-align:left">以矩形的方式调节对象的尺寸</td>
<td style="text-align:left">综合前面所有对选定对象的调节工具</td>
</tr>
</tbody>
</table>
<p>除了使用 <code>Q</code> 打开手形工具随后用鼠标左键漫游场景外，使用鼠标中键也可以在任意工具下漫游场景（按住鼠标中键然后移动鼠标）。</p>
<p>按住鼠标右键移动可以以当前镜头处为轴心旋转视角，按住鼠标右键的同时按下 <code>W</code> <code>A</code> <code>S</code> <code>D</code> <code>Q</code> <code>E</code> 也可以前后左右下上移动镜头。</p>
<p>按住 <code>Alt</code> 键的同时，也可以在任意工具下使用鼠标左键移动镜头，不过与前面不同的是，这是以目标物体为轴心来移动和旋转的。</p>
<p>按住 <code>Alt</code> 键的同时，按住鼠标右键上下左右移动也可以移远和移近物体。</p>
<p>按住 <code>Ctrl</code> 键的同时，使用以上所有工具移动、旋转或缩放对象的话，可以对齐网格。</p>
<p>按住 <code>V</code> 键的同时，鼠标放到对象中心的移动格子上移动对象，可以让此对象对齐场景中的其他对象。</p>
<h3 id="视图调节">视图调节</h3>
<p><strong>F</strong>（置于中心）：当在层级（Hierarchy）窗口或场景（Scene）窗口选中某个对象后，可按 <code>F</code> 将对象置于场景中心，并放大/缩小到合适的尺寸。</p>
<p>直接在当前场景视图设置为摄像机：<strong>ctrl+shift+f</strong>或者菜单栏-》<strong>GameObject</strong>-〉<strong>Align With View</strong></p>
<h3 id="窗口调整">窗口调整</h3>
<p><strong>Shift + 空格</strong>（最大化/还原）：当你的焦点在 Unity 编辑器的任何子窗口中的时候，按下 <code>Shift + Space</code> 可以将此子窗口最大化或者还原。</p>
<h3 id="进入退出播放模式">进入退出播放模式</h3>
<p><strong>Ctrl + P</strong>（进入退出播放模式）：相当于按下界面中的“播放”按钮。</p>
<h3 id="通过代码修改为动态的">通过代码修改为动态的</h3>
<p>注意到我创建的<code>Editor</code>文件夹了吗？</p>
<p>虽然那个是我自己创建的，但是Unity中某些文件夹就是具有着某些特殊的作用</p>
<p>比如这个<code>Editor</code>它的作用就是：</p>
<blockquote>
<p>以Editor命名的文件夹允许其中的脚本访问Unity Editor的API。如果脚本中使用了在UnityEditor命名空间中的类或方法，它必须被放在名为Editor的文件夹中。Editor文件夹中的脚本不会在build时被包含。<br>
在项目中可以有多个Editor文件夹。</p>
</blockquote>
<p>然后我们先创建一个<code>Editor</code>文件夹，然后再在这个文件夹下面创建一个脚本，名字随意都行，然后写代码</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;    </span><br><span class="line"><span class="keyword">using</span> UnityEditor;	<span class="comment">// 被继承的类所在的命名空间</span></span><br><span class="line"><span class="keyword">using</span> System.IO;	<span class="comment">// IO文件操作命名空间</span></span><br><span class="line"><span class="keyword">using</span> System;		<span class="comment">// C#基础功能命名空间</span></span><br><span class="line"><span class="keyword">using</span> System.Text.RegularExpressions;	<span class="comment">// 正则表达式的命名空间</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TitleSet</span> : <span class="title">UnityEditor.AssetModificationProcessor</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">OnWillCreateAsset</span>(<span class="params"><span class="built_in">string</span> path</span>)</span></span><br><span class="line">   &#123;</span><br><span class="line">       path = path.Replace(<span class="string">&quot;.meta&quot;</span>, <span class="string">&quot;&quot;</span>);   <span class="comment">// 这里跌path是你的项目主路径Asset/Scripts/文件名</span></span><br><span class="line">       <span class="keyword">if</span> (path.EndsWith(<span class="string">&quot;.cs&quot;</span>))    <span class="comment">// 判断是否是c#文件</span></span><br><span class="line">       &#123;</span><br><span class="line">           <span class="built_in">string</span> fileName = Regex.Match(path, <span class="string">@&quot;[^/]*$&quot;</span>).Value;    <span class="comment">// 通过正则拿到仅含文件名的字符串</span></span><br><span class="line">           <span class="built_in">string</span> str = File.ReadAllText(path);    <span class="comment">// 获取创建的文件名的全部内容</span></span><br><span class="line">           str = str.Replace(<span class="string">&quot;#Name#&quot;</span>, <span class="string">&quot;布小禅&quot;</span>).Replace(<span class="string">&quot;#CreateTime#&quot;</span>, DateTime.Now.ToString(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>)).Replace(<span class="string">&quot;#FileName#&quot;</span>, fileName).Replace(<span class="string">&quot;#path#&quot;</span>, path);    <span class="comment">// 将头部注释替换</span></span><br><span class="line">           File.WriteAllText(path, str);   <span class="comment">// 将替换后的内容写入文件，将原内容覆盖</span></span><br><span class="line">           AssetDatabase.Refresh();   </span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>C#</h1>
<p>C#于2001微软创建用于对抗Java，效果不理想，因为Java可以用虚拟机跨所有平台，C#只跨微软平台。</p>
<h2 id="C-与C-明显区别：">C#与C++明显区别：</h2>
<ul>
<li>
<p>C#没有指针，采用引用替代C++指针优良传统。</p>
</li>
<li>
<p><strong>去除了C++多继承，只允许单继承</strong>，因为多继承的派生类访问基类时存在二义性（多个值）。</p>
</li>
<li>
<p><strong>无需手动释放内存，动态开辟的堆内存由C#自动释放</strong>（引用计数技术自动释放）。</p>
</li>
<li>
<p><strong>没有指针操作符</strong>$\rightarrow$​​。</p>
</li>
<li>
<p>C#不再使用# include导入类（没有头文件.h），而是使用命名空间导入类。</p>
</li>
<li>
<p><strong>C#没有全局函数和全局变量</strong>，因为是面向对象所以函数、变量要定义在类中，即函数必须属于某个对象。</p>
</li>
<li>
<p><strong>C#访问类的静态成员（函数、变量）使用 类名.静态成员 而不是C++的 类名::静态成员</strong>。</p>
</li>
<li>
<p>C#没有宏定义。</p>
</li>
<li>
<p><strong>C#自动类型是var，C++自动类型是auto</strong>。</p>
</li>
<li>
<p>C#基本数据类型都继承或间接继承Object, 实现C#完全面向对象。</p>
<ul>
<li>
<p>值类型：枚举、结构体、13种基本数据类型。</p>
<p>值类型的结构体对象可以不用初始化对象直接访问成员。也可以使用new初始化对象（new的数据不存在堆区而存在栈区）</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//结构体</span></span><br><span class="line"><span class="keyword">struct</span> student &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">&#125;</span><br><span class="line">student stu;</span><br><span class="line">stu.id = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>引用类型： 自定义类、数组、string（特殊的引用类型）、接口等。</p>
<ul>
<li>
<p>引用类型的类对像必须用new初始化对象后才能访问成员。（new的数据存在堆区而不存在栈区）</p>
</li>
<li>
<p>string类型可以不用new初始化对象就可以使用对象。</p>
</li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定义类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Hero</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> atk;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Hero hero; 无法使用hero对象的成员，因为hero没有分配内存空间地址，是空指针。</span></span><br><span class="line">Hero hero = <span class="keyword">new</span> Hero();</span><br><span class="line">hero.atk = <span class="number">250</span>;</span><br><span class="line"><span class="comment">//数据</span></span><br><span class="line"><span class="comment">//int arr[10]; //c++方式定义数组</span></span><br><span class="line"><span class="built_in">int</span>[] pArr; <span class="comment">//c#方式定义数组</span></span><br><span class="line"><span class="comment">//pArr[0] = 1; 报错，必须用new初始化数组才能使用</span></span><br><span class="line">pArr = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i=<span class="number">0</span>; i&lt;pArr.Length; i++)&#123;</span><br><span class="line">    pArr[i] = i*<span class="number">10</span>;</span><br><span class="line">    Console.WriteLine(pArr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>值类型变量与引用类型变量区别：</p>
<ul>
<li>值类型变量保存的是具体数据，而引用类型变量保存的是数据地址。（引用类型变量类似于C++指针）</li>
<li>有空引用（空指针）但没有空值的说法。（指针有空而值没有空）</li>
<li>值类型变量的<strong>数据</strong>存储在栈区，而引用类型变量的<strong>数据</strong>存储在堆区。（引用类型变量本身存在栈区，类似于指针本身存在栈区指向堆区内存数据地址）</li>
</ul>
</li>
</ul>
</li>
<li>
<p>类中的成员访问修饰符不在使用如下格式</p>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> mA;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> a)</span></span>;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="type">float</span> mB;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>改成如下格式，如果<strong>不加访问修饰符默认使用私有修饰符</strong></p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Base</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> mA;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">fun</span>(<span class="params"><span class="built_in">int</span> a</span>)</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">float</span> mB;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="C-语法简要说明">C#语法简要说明</h2>
<ul>
<li>
<p>函数参数传递：</p>
<ul>
<li>值类型传递 函数体无法改变实参值 传递的是值而不是对象本身。</li>
<li>引用类型传递 传递的是数据地址 通过同一个地址访问的是同一个对象</li>
<li>值类型进行引用传递的方式 可以使函数体对实参进行改变
<ul>
<li>方式1: 使用ref关键字
<ol>
<li>定义函数时 使用ref修饰形参 代表引用传递。</li>
<li>调用函数时 使用ref修饰实参。 <strong>注意：实参必须初始化</strong>。</li>
</ol>
</li>
<li>方式2: 使用out关键字
<ol>
<li>定义函数时 使用out修饰形参 代表引用传递 。<strong>注意：实参可以不初始化，但是函数体必须对实参进行赋值操作</strong>。</li>
<li>调用函数时 使用out修饰实参。</li>
</ol>
</li>
</ul>
</li>
<li>引用传递中 ref和out 的区别
<ul>
<li>ref: 调用函数时实参必须初始化。</li>
<li>out: 调用函数时实参可以不初始化，但是在函数体中必须对实参进行赋值操作。</li>
</ul>
</li>
</ul>
</li>
<li>
<p>C#拆箱和装箱 （类型转换）</p>
<ul>
<li>C#完全面向对象 所有类型间接或直接继承了Object类。</li>
<li>装箱：将其他类型转成Object类型。强制类型转换</li>
<li>拆箱：将Object类型转成其他类型。强制类型转换</li>
<li>在程序开发中尽量避免拆装箱操作，有额外消耗。</li>
<li>值类型数据转换：
<ol>
<li>精度高与精度低的相互转换：低转高<strong>自动</strong>转换，高转低需<strong>强制</strong>转换。</li>
<li>结构体类型不允许与其他类型转换。</li>
<li>枚举值与int直接可以相互转换（强制转换）。</li>
</ol>
</li>
<li>引用类型数据转换：
<ol>
<li>is 关键字 用于判断一个类型是否是某一个类型， 例如： h is Anni --&gt;真或假。</li>
<li>as 关键字 用于引用类型转换(<strong>安全转换</strong>，程序不会抛异常), 成功则为非空（转换的类型对像），失败则为空。例如：h as Anni --&gt;null 或者 对象。</li>
<li>子类转换为父类，低转高，<strong>自动转换</strong>。</li>
<li>父类转换为子类，高转低，<strong>强制转换</strong>。这是不安全转换（程序会抛异常），如果<strong>父对象指向的内存的类型不是该子类型</strong>，子对象会转化失败。</li>
<li>字符串与数字转换: 字符串无法强转为数字，反之亦然。</li>
</ol>
</li>
</ul>
</li>
<li>
<p>面向对像</p>
<ul>
<li>
<p>封装：隐藏技术， 在类的内部实现并向外部隐藏，对类的数据成员进行保护。</p>
</li>
<li>
<p>继承：使用已存在的类派生出一个新的类， 两者存在继承关系，派生出的类拥有父类的特性并且还有自己类的独特特性。</p>
</li>
<li>
<p>多态：同一个成员函数（方法、操作）对应多种不同的实现，简单来说就是，同一个继承体系下使用<strong>基类引用派生类</strong>并调用派生类<strong>同名虚函数</strong>，对应着多个不同类的实现体。区分：基类和派生类的<strong>同名非虚函数</strong>，是派生类同名函数<strong>覆盖</strong>基类同名函数。</p>
</li>
<li>
<p>继承使用</p>
<ul>
<li>
<p>特点</p>
<ul>
<li>
<p>没有继承方式。</p>
</li>
<li>
<p>没有多继承 一个类只允许继承一个父类（单继承）。</p>
</li>
<li>
<p>一个类可以派生出多个类，但只有一个父亲。</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> 子类: 父类&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//特点:没有继承的访问修饰符(继承方式) public, private, protected</span></span><br><span class="line"><span class="comment">//c++中使用</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">class 子类: public 父类&#123;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>派生类构造函数需要调用基类构造函数，当<strong>基类有无参构造函数</strong>时派生类构造函数可以省略调用基类构造函数，否则派生类构造函数必须<strong>显式调用基类构造函数</strong></p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Hero</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Hero</span> (<span class="params"><span class="built_in">string</span> name</span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title">Anni</span>: <span class="title">Hero</span>&#123;</span><br><span class="line">  <span class="keyword">public</span> Anni:Base(<span class="string">&quot;Anni&quot;</span>)&#123;<span class="comment">//C#使用Base调用基类构造，C++使用父类名调用构造</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>静态成员（static）无法访问非静态成员。静态成员函数体内无法使用<strong>this引用</strong>。</p>
</li>
</ul>
</li>
<li>
<p>this 表示永远引用当前调用者对象，存在于类的非静态成员函数中~~，只能读不改~~。</p>
</li>
<li>
<p>base 代表基类，用于调用基类构造或成员函数。</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Hero</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Hero</span> (<span class="params"><span class="built_in">string</span> name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Hero</span>()</span></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">  &#123;</span><br><span class="line">      <span class="comment">// Console.WriteLine(&quot;Hero Speak: 我乃&quot; + name);//静态成员（static）无法访问非静态成员</span></span><br><span class="line">      <span class="comment">// this.name = &quot;Hero&quot;; //静态成员函数没有this引用</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Atk</span>()</span></span><br><span class="line">  &#123;</span><br><span class="line">      Console.WriteLine(name + <span class="string">&quot; 发起了攻击！&quot;</span>);<span class="comment">//name是类的成员变量，也可用this.name</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Anni</span>: <span class="title">Hero</span>&#123;</span><br><span class="line">  <span class="keyword">public</span> Anni:Base(<span class="string">&quot;Anni&quot;</span>)&#123;<span class="comment">//C#使用Base调用基类构造，C++使用父类名调用构造</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Atk</span>()</span></span><br><span class="line">  &#123;</span><br><span class="line">      <span class="keyword">base</span>.Atk();<span class="comment">//使用base调用基类的成员, C++使用Hero::Atk()调用基类函数</span></span><br><span class="line">      Console.WriteLine(<span class="string">&quot;Anni 发起了攻击：熊之咆哮。。。。。&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>C#不存在拷贝构造，因为自定义类是引用数据类型，使用地址传递而不是值传递。</p>
</li>
</ul>
</li>
<li>
<p>多态使用</p>
<ul>
<li>
<p>使用前提：同一继承体系 而且 定义(<strong>virtual</strong>修饰)有虚函数。</p>
</li>
<li>
<p><strong>基类引用调用派生类</strong>同名虚函数，对应多个不同类的实现体。</p>
</li>
<li>
<p>区分派生类同名函数覆盖基类同名函数</p>
<ul>
<li>重写基类同名虚函数，显式关键字override</li>
<li>覆盖基类同名函数，显式关键字new</li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">new</span> <span class="keyword">void</span> <span class="title">Say</span>()</span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Say</span>()</span>&#123;<span class="comment">//c++ void Say override &#123;&#125;</span></span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>基类引用派生类时调用派生类的覆盖函数，其实调用的是父类的该函数，因为他没有多态性质（触发动态调用）使用静态调用，调用的是基类的成员函数。</li>
<li>new关键字用于覆盖基类的属性或方法 无法触发多态。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1>解决方案、项目、编译、调试</h1>
<p>Bin目录用来保存项目生成后程序集，它有Debug和Release两个版本，分别对应的文件夹为bin/Debug和bin/Release，这个文件夹是默认的输出路径，我们可以通过：项目属性—&gt;配置属性—&gt;输出路径来修改。</p>
<p><a target="_blank" rel="noopener" href="https://zhida.zhihu.com/search?content_id=184880286&amp;content_type=Article&amp;match_order=1&amp;q=obj%E7%9B%AE%E5%BD%95&amp;zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3NjM5NjgzMzYsInEiOiJvYmrnm67lvZUiLCJ6aGlkYV9zb3VyY2UiOiJlbnRpdHkiLCJjb250ZW50X2lkIjoxODQ4ODAyODYsImNvbnRlbnRfdHlwZSI6IkFydGljbGUiLCJtYXRjaF9vcmRlciI6MSwiemRfdG9rZW4iOm51bGx9.ri6s9EPjN6ZvWVv6zvvPQXzgOEsQs6jlTWrVfIGL0Gw&amp;zhida_source=entity">obj目录</a>是用来保存每个模块的编译结果，在.NET中，编译是分模块进行的，编译整个完成后会合并为一个.DLL或.EXE保存到<a target="_blank" rel="noopener" href="https://zhida.zhihu.com/search?content_id=184880286&amp;content_type=Article&amp;match_order=1&amp;q=bin%E7%9B%AE%E5%BD%95&amp;zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3NjM5NjgzMzYsInEiOiJiaW7nm67lvZUiLCJ6aGlkYV9zb3VyY2UiOiJlbnRpdHkiLCJjb250ZW50X2lkIjoxODQ4ODAyODYsImNvbnRlbnRfdHlwZSI6IkFydGljbGUiLCJtYXRjaF9vcmRlciI6MSwiemRfdG9rZW4iOm51bGx9.Ws5BettbpJouwDunuVCQF1Mo1eUatxLmHtZ7ikhbMho&amp;zhida_source=entity">bin目录</a>下。因为每次编译时默认都是采用<a target="_blank" rel="noopener" href="https://zhida.zhihu.com/search?content_id=184880286&amp;content_type=Article&amp;match_order=1&amp;q=%E5%A2%9E%E9%87%8F%E7%BC%96%E8%AF%91&amp;zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3NjM5NjgzMzYsInEiOiLlop7ph4_nvJbor5EiLCJ6aGlkYV9zb3VyY2UiOiJlbnRpdHkiLCJjb250ZW50X2lkIjoxODQ4ODAyODYsImNvbnRlbnRfdHlwZSI6IkFydGljbGUiLCJtYXRjaF9vcmRlciI6MSwiemRfdG9rZW4iOm51bGx9.KMERhCOAF3Bm45tHpnpXRaszDQdSeRUbFrO1a7FchyY&amp;zhida_source=entity">增量编译</a>，即只重新编译改变了的模块，obj保存每个模块的编译结果，用来加快编译速度。是否采用增量编译，可以通过：项目属性—&gt;配置属性—&gt;高级—&gt;增量编译来设置</p>
<p><img src="/2025/11/12/unity/%E6%88%AA%E5%B1%8F2025-11-13%2020.10.43.png" alt="截屏2025-11-13 20.10.43"></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/daguanjia11/article/details/52454300">终端运行C#项目</a>， <a target="_blank" rel="noopener" href="https://blog.csdn.net/tangPHP/article/details/141284128">1</a>, <a target="_blank" rel="noopener" href="https://www.cnblogs.com/harley-chang/p/17765953.html">2</a>, <a target="_blank" rel="noopener" href="https://blog.csdn.net/liyou123456789/article/details/149368848">3</a>,<a target="_blank" rel="noopener" href="https://www.cnblogs.com/zlp520/p/14787808.html">4</a></li>
</ul>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># 创建一个.net core项目</span><br><span class="line">dotnet new --type [console|web|lib|xunittest] --lang [C#|F#] --name 项目名</span><br><span class="line"></span><br><span class="line"># 安装依赖</span><br><span class="line"># dotnet restore命令通过NuGet来下载定义在 项目名.json文件 中的依赖，然后放到用户目录下的.nuget/packages文件夹中。dotnet restore命令运行完毕后，会生成project.lock.json文件。</span><br><span class="line">dotnet restore</span><br><span class="line"></span><br><span class="line"># 编译</span><br><span class="line"># 生成*/项目名/bin/Debug/net版本/项目名.dll文件和.pbd文件等</span><br><span class="line">dotnet build Lesson-02/Lesson-02.csproj</span><br><span class="line"></span><br><span class="line"># 运行</span><br><span class="line">dotnet run --project Lesson-02/Lesson-02.csproj</span><br><span class="line"></span><br><span class="line"># 测试</span><br><span class="line">dotnet test</span><br><span class="line"></span><br><span class="line"># 打包</span><br><span class="line">dotnet pack</span><br><span class="line"></span><br><span class="line"># 发版</span><br><span class="line"># 当你需要发布你的代码时，该命令的输出文件将是你所需要的全部文件。生成目录*/项目名/bin/Debug/net版本/publish及其文件都在该目录中。</span><br><span class="line">dotnet publish</span><br></pre></td></tr></table></figure>
<p><strong>.Net空项目包含：一个解决方案sln或slnx, 一个解决方案下可以创建多个项目。</strong></p>
<ul>
<li>给一个解决方案创建多个项目</li>
</ul>
<ol>
<li>创建解决方案（如尚未创建）</li>
</ol>
  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建新的解决方案</span></span><br><span class="line">dotnet new sln -n MySolution</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">.NET9.0后在当前目录创建一个名为 MySolution.slnx 的解决方案文件。</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">解决方案迁移，从sln到slnx</span></span><br><span class="line">dotnet sln 旧解决方案名.sln migrate</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>创建新项目，创建要添加到解决方案中的项目</li>
</ol>
<pre><code><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建类库项目</span></span><br><span class="line">dotnet new classlib -n MyClassLibrary</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建 Web API 项目</span></span><br><span class="line">dotnet new webapi -n MyWebApi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建控制台应用程序</span></span><br><span class="line">dotnet new console -n MyConsoleApp</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">这将在各自的文件夹中创建三个不同类型的项目。</span></span><br></pre></td></tr></table></figure>
</code></pre>
<ol start="3">
<li>将项目添加到解决方案</li>
</ol>
<pre><code><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将项目添加到解决方案</span></span><br><span class="line">dotnet sln MySolution.slnx add MyClassLibrary/MyClassLibrary.csproj</span><br><span class="line">dotnet sln MySolution.slnx add MyWebApi/MyWebApi.csproj</span><br><span class="line">dotnet sln MySolution.slnx add MyConsoleApp/MyConsoleApp.csproj</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">提示： 可以使用通配符一次性添加多个项目：dotnet sln MySolution.sln add **/*.csproj</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
<ol start="4">
<li>配置项目间的引用</li>
</ol>
<pre><code>如果项目之间需要相互引用，例如控制台应用引用类库：

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在 MyConsoleApp 目录中执行</span></span><br><span class="line">dotnet add reference ../MyClassLibrary/MyClassLibrary.csproj</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">或者指定引用的项目名，假设当前在MySolution目录</span></span><br><span class="line">dotnet add MyConsoleApp/MyConsoleApp.csproj reference ../MyClassLibrary/MyClassLibrary.csproj</span><br></pre></td></tr></table></figure>

或者编辑MyClassLibrary.csproj文件

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">Sdk</span>=<span class="string">&quot;Microsoft.NET.Sdk&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">OutputType</span>&gt;</span>Exe<span class="tag">&lt;/<span class="name">OutputType</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TargetFramework</span>&gt;</span>net10.0<span class="tag">&lt;/<span class="name">TargetFramework</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ImplicitUsings</span>&gt;</span>enable<span class="tag">&lt;/<span class="name">ImplicitUsings</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Nullable</span>&gt;</span>enable<span class="tag">&lt;/<span class="name">Nullable</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">RootNamespace</span>&gt;</span>MyConsoleApp<span class="tag">&lt;/<span class="name">RootNamespace</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ProjectReference</span> <span class="attr">Include</span>=<span class="string">&quot;..\MyClassLibrary\MyClassLibrary.csproj&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure>
</code></pre>
<ol start="5">
<li>配置构建任务，在 VSCode 中创建 tasks.json 文件来配置构建任务：</li>
</ol>
<pre><code><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dotnet&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;process&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;$&#123;workspaceFolder&#125;/MySolution.sln&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;/property:GenerateFullPaths=true&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;/consoleloggerparameters:NoSummary&quot;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$msCompile&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
</code></pre>
<ol start="6">
<li>配置调试启动设置，在 launch.json 中配置调试设置，可以指定要启动的项目：</li>
</ol>
<pre><code><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Launch MyWebApi&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;coreclr&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;preLaunchTask&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/MyWebApi/bin/Debug/net8.0/MyWebApi.dll&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/MyWebApi&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;serverReadyAction&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;action&quot;</span><span class="punctuation">:</span> <span class="string">&quot;openExternally&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;pattern&quot;</span><span class="punctuation">:</span> <span class="string">&quot;\\bNow listening on:\\s+(https?://\\S+)&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Launch MyConsoleApp&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;coreclr&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;preLaunchTask&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/MyConsoleApp/bin/Debug/net8.0/MyConsoleApp.dll&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/MyConsoleApp&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;console&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integratedTerminal&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
<p><strong>一个项目可以包含多个模块，即一个项目下可以添加多个目录每个目录下可以创建多个.cs文件</strong></p>
<img src="/2025/11/12/unity/image-20251115161016477.png" alt="image-20251115161016477" style="zoom:50%;">
<ol>
<li>
<p>为每个目录创建对应的 C# 类：</p>
 <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Modules/Calculator/CalculatorService.cs</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MultiModuleApp.Modules.Calculator</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CalculatorService</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RunCalculator</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;=== 计算器模块 ===&quot;</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;输入第一个数字:&quot;</span>);</span><br><span class="line">        <span class="built_in">double</span> a = <span class="built_in">double</span>.Parse(Console.ReadLine());</span><br><span class="line">        <span class="comment">// 更多计算器逻辑...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Modules/StringUtils/StringOperations.cs</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MultiModuleApp.Modules.StringUtils</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">StringOperations</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RunStringDemo</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;=== 字符串工具模块 ===&quot;</span>);</span><br><span class="line">        <span class="built_in">string</span> text = <span class="string">&quot;Hello, World!&quot;</span>;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;反转: <span class="subst">&#123;ReverseString(text)&#125;</span>&quot;</span>);</span><br><span class="line">        <span class="comment">// 更多字符串操作...</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">ReverseString</span>(<span class="params"><span class="built_in">string</span> input</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">string</span>(input.Reverse().ToArray());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Modules/DataProcessor/DataProcessor.cs</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MultiModuleApp.Modules.DataProcessor</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DataProcessor</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RunDataProcessing</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;=== 数据处理模块 ===&quot;</span>);</span><br><span class="line">        <span class="built_in">int</span>[] numbers = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> &#125;;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;数组总和: <span class="subst">&#123;CalculateSum(numbers)&#125;</span>&quot;</span>);</span><br><span class="line">        <span class="comment">// 更多数据处理逻辑...</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">CalculateSum</span>(<span class="params"><span class="built_in">int</span>[] numbers</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> numbers.Sum();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>配置 Program.cs,  主程序文件，提供模块选择菜单：</p>
 <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Program.cs</span></span><br><span class="line"><span class="keyword">using</span> MultiModuleApp.Modules.Calculator;</span><br><span class="line"><span class="keyword">using</span> MultiModuleApp.Modules.StringUtils;</span><br><span class="line"><span class="keyword">using</span> MultiModuleApp.Modules.DataProcessor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Clear();</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;=== 多模块应用程序 ===&quot;</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;1. 计算器模块&quot;</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;2. 字符串工具模块&quot;</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;3. 数据处理模块&quot;</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;4. 运行所有测试&quot;</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;0. 退出&quot;</span>);</span><br><span class="line">            Console.Write(<span class="string">&quot;请选择要运行的模块: &quot;</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="built_in">string</span> choice = Console.ReadLine();</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">switch</span> (choice)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;1&quot;</span>:</span><br><span class="line">                    CalculatorService.RunCalculator();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;2&quot;</span>:</span><br><span class="line">                    StringOperations.RunStringDemo();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;3&quot;</span>:</span><br><span class="line">                    DataProcessor.RunDataProcessing();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;4&quot;</span>:</span><br><span class="line">                    RunAllTests();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;0&quot;</span>:</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;\n按任意键继续...&quot;</span>);</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RunAllTests</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;=== 运行所有模块测试 ===&quot;</span>);</span><br><span class="line">        <span class="comment">// 调用各模块的测试方法</span></span><br><span class="line">        CalculatorTests.RunAll();</span><br><span class="line">        StringTests.RunAll();</span><br><span class="line">        DataTests.RunAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>不经过Programs.cs调用直接调试CalculatorService.cs文件。修改 .csproj 文件设置启动对象，指定本项目使用哪个Main函数作为入口程序。</p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- MultiModuleApp.csproj --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">Sdk</span>=<span class="string">&quot;Microsoft.NET.Sdk&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">OutputType</span>&gt;</span>Exe<span class="tag">&lt;/<span class="name">OutputType</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFramework</span>&gt;</span>net8.0<span class="tag">&lt;/<span class="name">TargetFramework</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ImplicitUsings</span>&gt;</span>enable<span class="tag">&lt;/<span class="name">ImplicitUsings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Nullable</span>&gt;</span>enable<span class="tag">&lt;/<span class="name">Nullable</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 指定启动对象 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">StartupObject</span>&gt;</span>MultiModuleApp.Modules.Calculator.CalculatorService<span class="tag">&lt;/<span class="name">StartupObject</span>&gt;</span> <span class="comment">&lt;!-- 使用命名空间和类的名字不是目录和文件的名字，虽然命名空间和类的名字与目录和文件名字相同 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>调试C#, <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/training/modules/dotnet-debug/4-use-visual-studio-code-debugger">1</a>, <a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1647711">2</a>, <a target="_blank" rel="noopener" href="https://blog.csdn.net/exlink2012/article/details/139182893">3</a>,<a target="_blank" rel="noopener" href="https://www.cnblogs.com/dlvguo/p/10645209.html">4</a></li>
</ul>
<p><img src="/2025/11/12/unity/%E6%88%AA%E5%B1%8F2025-11-14%2009.56.39.png" alt="截屏2025-11-14 09.56.39"></p>
<p>task.json</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">		<span class="punctuation">&#123;</span></span><br><span class="line">			<span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">			<span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dotnet&quot;</span><span class="punctuation">,</span></span><br><span class="line">			<span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">			<span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">				<span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">				<span class="string">&quot;$&#123;workspaceRoot&#125;/Lesson-02/Lesson-02.csproj&quot;</span></span><br><span class="line">			<span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">			<span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$msCompile&quot;</span></span><br><span class="line">		<span class="punctuation">&#125;</span></span><br><span class="line">	<span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>launch.json</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// 使用 IntelliSense 了解相关属性。 </span></span><br><span class="line">    <span class="comment">// 悬停以查看现有属性的描述。</span></span><br><span class="line">    <span class="comment">// 欲了解更多信息，请访问: https://go.microsoft.com/fwlink/?linkid=830387</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.NET Core Launch (console)&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;coreclr&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;preLaunchTask&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;/Lesson-02/bin/Debug/net10.0/Lesson-02.dll&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;externalConsole&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;console&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integratedTerminal&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.NET Core Launch (web)&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;coreclr&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;preLaunchTask&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;/Lesson-02/bin/Debug/net10.0/Lesson-02.dll&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;launchBrowser&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;auto-detect-url&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;windows&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cmd.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/C start $&#123;auto-detect-url&#125;&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;osx&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2025/11/12/unity/image-20251114153258914.png" alt="image-20251114153258914"></p>
<p>using System; //使用命名空间System, c++是using namespace System;</p>
<p>System命名空间定义了标准的输入输出，基本类型。</p>
<p>基本类型继承关系</p>
<img src="/2025/11/12/unity/image-20251114155726918.png" alt="image-20251114155726918" style="zoom: 25%;">
<h1>基本数据类型</h1>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="comment">// See https://aka.ms/new-console-template for more information</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Lesson02</span><span class="comment">//定义了一个命名空间</span></span><br><span class="line">&#123;</span><br><span class="line">  	<span class="built_in">enum</span> MapElement&#123;<span class="comment">//枚举类型</span></span><br><span class="line">        Road,</span><br><span class="line">        Wall</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">struct</span> Student&#123;<span class="comment">//结构体类型</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> id;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">float</span> score;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Hero</span>&#123; <span class="comment">//自定义类</span></span><br><span class="line">        <span class="built_in">int</span> atk;</span><br><span class="line">        <span class="built_in">string</span> name;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Say</span>()</span> &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span> <span class="comment">//定义类Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)<span class="comment">//静态成员函数Main (主函数 程序入口 有且只有一个 第一个字母大写)</span></span></span><br><span class="line">        &#123;</span><br><span class="line">            Object a;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Hello, World!&quot;</span>);<span class="comment">//控制台打印</span></span><br><span class="line">          </span><br><span class="line">            <span class="comment">//13种基本数据类型</span></span><br><span class="line">            <span class="built_in">int</span> n1;<span class="comment">//4字节 有符号类型</span></span><br><span class="line">            <span class="built_in">uint</span> n2;<span class="comment">//4字节 无符号类型</span></span><br><span class="line">            <span class="built_in">short</span> n3;<span class="comment">//2字节 有符号</span></span><br><span class="line">            <span class="built_in">ushort</span> n4; <span class="comment">//2字节 无符号</span></span><br><span class="line">            <span class="built_in">long</span> n5; <span class="comment">//8字节 有符号</span></span><br><span class="line">            <span class="built_in">ulong</span> n6; <span class="comment">//8字节 无符号</span></span><br><span class="line">            <span class="built_in">byte</span> n7; <span class="comment">//1字节 无符号</span></span><br><span class="line">            <span class="built_in">sbyte</span> n8;<span class="comment">//1字节 有符号</span></span><br><span class="line">            <span class="built_in">bool</span> n9; <span class="comment">//布尔值 1字节 </span></span><br><span class="line">            <span class="built_in">char</span> n10;<span class="comment">//字符型 2字节  c++不允许&#x27;和&#x27;只能&quot;和&quot;， c#允许&#x27;和&#x27;</span></span><br><span class="line">            <span class="built_in">float</span> n11;<span class="comment">//单精度浮点 4字节 精度是小数点后8位</span></span><br><span class="line">            <span class="built_in">double</span> n12;<span class="comment">//双精度浮点 8字节 精度是小数点后16位</span></span><br><span class="line">            <span class="built_in">decimal</span> n13;<span class="comment">//浮点  16字节 精度是小数点后32位</span></span><br><span class="line">            <span class="comment">//枚举类型的使用</span></span><br><span class="line">            MapElement e = MapElement.Road;<span class="comment">//枚举类型名.枚举值</span></span><br><span class="line">            <span class="comment">//结构体类型</span></span><br><span class="line">            Student stu;</span><br><span class="line">            stu.id = <span class="number">10068</span>;</span><br><span class="line">            stu.score = <span class="number">75.5f</span>;<span class="comment">//必须加f,高精度转低精度：C#不会自动转类型， 低精度转高精度：C#会自动转类型。</span></span><br><span class="line">            stu.score = (<span class="built_in">float</span>) <span class="number">75.8</span>;</span><br><span class="line">            <span class="comment">//自定义类类型</span></span><br><span class="line">            Hero h1;<span class="comment">//符法访问h1的成员，h1.atk = 2;</span></span><br><span class="line">            Hero h2 = <span class="keyword">new</span> Hero();</span><br><span class="line">            h2.atk = <span class="number">250</span>;</span><br><span class="line">            Hero.Say();<span class="comment">//静态成员使用</span></span><br><span class="line">            <span class="comment">//*****************************************************************************</span></span><br><span class="line">            <span class="comment">//数组 (引用类型)</span></span><br><span class="line">            <span class="comment">//int arr[10]; //c++方式定义一维数组</span></span><br><span class="line">            <span class="built_in">int</span>[] pArr; <span class="comment">//c#方式定义数组  一维数组定义方式</span></span><br><span class="line">            <span class="comment">//pArr[0] = 1; 报错，必须用new初始化数组才能使用</span></span><br><span class="line">            pArr = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">10</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i=<span class="number">0</span>; i&lt;pArr.Length; i++)&#123;</span><br><span class="line">                pArr[i] = i*<span class="number">10</span>;</span><br><span class="line">                Console.WriteLine(pArr[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//int arr[10][10]; //c++方式定义二维数组</span></span><br><span class="line">            <span class="built_in">int</span>[,] pArr2 = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">10</span>,<span class="number">10</span>];<span class="comment">//c#定义了10x10二维数组</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> j=<span class="number">0</span>; j&lt;<span class="number">10</span>; j++)&#123;</span><br><span class="line">                    pArr2[i,j] = i*j;</span><br><span class="line">                    Console.Write(pArr2[i,j]);</span><br><span class="line">                &#125;</span><br><span class="line">                Console.Write(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//*****************************************************************************</span></span><br><span class="line">            <span class="comment">//string(特殊引用类型)</span></span><br><span class="line">            <span class="built_in">string</span> str;</span><br><span class="line">            str = <span class="string">&quot;你好帅！&quot;</span>;</span><br><span class="line">            Console.WriteLine(str);</span><br><span class="line">            <span class="built_in">string</span> str2 = <span class="string">&quot;赵云，马超，张飞，黄忠，关羽&quot;</span>;</span><br><span class="line">            <span class="built_in">string</span>[] strArr = str2.Split(<span class="string">&quot;，&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i=<span class="number">0</span>; i&lt;strArr.Length; i++)&#123;</span><br><span class="line">                  Console.WriteLine(strArr[i]);</span><br><span class="line">            &#125;</span><br><span class="line">                     <span class="comment">//*****************************************************************************</span></span><br><span class="line">            <span class="comment">//C#控制台的输入与输出</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;WriteLine 行输出，带换行&quot;</span>);</span><br><span class="line">            Console.Write(<span class="string">&quot;Write 不换行输出\n&quot;</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;占位符输出：0:&#123;0&#125; 1:&#123;1&#125; 交换 0:&#123;1&#125; 1:&#123;0&#125;&quot;</span>, <span class="number">250</span>, <span class="number">360</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;请输入一个字符&quot;</span>);</span><br><span class="line">            <span class="built_in">int</span> c = Console.Read();<span class="comment">//读取一个字符</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;读取的字符为：&#123;0&#125;&quot;</span>, c);</span><br><span class="line">            Console.ReadLine();<span class="comment">//消除缓冲区中的回车</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;请输入一个按键&quot;</span>);</span><br><span class="line">            <span class="keyword">var</span> key = Console.ReadKey();<span class="comment">//读取一个按键</span></span><br><span class="line">            Console.WriteLine();</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;读取按键为：&#123;0&#125;&quot;</span>, key.KeyChar);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;请输入一个字符串&quot;</span>);</span><br><span class="line">            <span class="built_in">string</span> s = Console.ReadLine();<span class="comment">//读取一行</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;读取一行字符串为：&#123;0&#125;&quot;</span>, s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>值传递和引用传递</h1>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="comment">// static void fun()</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     Console.WriteLine(&quot;Hello, World!&quot;);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// int a = 10;</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Lesson03</span>.值传递和引用传递</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Student</span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> score;<span class="comment">//分数</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">PassParameter</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//值类型传递 函数体无法改变实参值 传递的是值而不是对象本身</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Swap</span>(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> t = a;</span><br><span class="line">            a = b;</span><br><span class="line">            b = t;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//引用类型传递 传递的是数据地址 通过同一个地址访问的是同一个对象</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Swap</span>(<span class="params">Student s1</span>)</span>&#123;</span><br><span class="line">            s1.score = <span class="number">10086</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//值类型进行引用传递的方式 可以使函数体对实参进行改变</span></span><br><span class="line">        <span class="comment">//方式1: 使用ref关键字</span></span><br><span class="line">        <span class="comment">//    1. 定义函数时 使用ref修饰形参 代表引用传递。</span></span><br><span class="line">				<span class="comment">//    2. 调用函数时 使用ref修饰实参 </span></span><br><span class="line">        <span class="comment">//    注意：实参必须初始化</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Swap</span>(<span class="params"><span class="keyword">ref</span> <span class="built_in">int</span> a, <span class="keyword">ref</span> <span class="built_in">int</span> b</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> t = a;</span><br><span class="line">            a = b;</span><br><span class="line">            b = t;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//方式2: 使用out关键字</span></span><br><span class="line">        <span class="comment">//    1. 定义函数时 使用out修饰形参 代表引用传递。</span></span><br><span class="line">				<span class="comment">//    2. 调用函数时 使用out修饰实参 </span></span><br><span class="line">        <span class="comment">//    注意：实参可以不初始化，但是函数体必须对实参进行赋值操作</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Fun</span>(<span class="params"><span class="keyword">out</span> <span class="built_in">int</span> a</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">          	a = <span class="number">250</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> x = <span class="number">20</span>, y = <span class="number">30</span>;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;值传递交换前x=&#123;0&#125;, y=&#123;1&#125;&quot;</span>, x, y);</span><br><span class="line">            Swap(x, y);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;值传递交换后x=&#123;0&#125;, y=&#123;1&#125;&quot;</span>, x, y);</span><br><span class="line">          </span><br><span class="line">            Student s = <span class="keyword">new</span> Student();</span><br><span class="line">            s.score = <span class="number">20000</span>;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;引用传递交换前Student s.score=&#123;0&#125;&quot;</span>, x.score);</span><br><span class="line">            Swap(s);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;引用传递交换后Student s.score=&#123;0&#125;&quot;</span>, x.score);</span><br><span class="line">          </span><br><span class="line">            Console.WriteLine(<span class="string">&quot;值类型ref传递交换前ref x=&#123;0&#125;, ref y=&#123;1&#125;&quot;</span>, x, y);</span><br><span class="line">            Swap(<span class="keyword">ref</span> x, <span class="keyword">ref</span> y);<span class="comment">//ref 必须初始化实参</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;值类型ref传递交换后ref x=&#123;0&#125;, ref y=&#123;1&#125;&quot;</span>, x, y);</span><br><span class="line">          </span><br><span class="line">            <span class="built_in">int</span> z;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;值类型out传递交换前out z：&#123;0&#125;&quot;</span>, <span class="string">&quot;未定义初始值&quot;</span>);</span><br><span class="line">            Fun(<span class="keyword">out</span> z); <span class="comment">//out 不必初始化实参</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;值类型out传递交换后out z=&#123;0&#125;&quot;</span>, z);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>类型转换</h1>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Lesson03</span>.类型转换</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Hero</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Anni</span>: <span class="title">Hero</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Jax</span>: <span class="title">Hero</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Lesson03</span>.类型转换</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">TypeConversion</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">enum</span> MapType &#123;</span><br><span class="line">          Road,</span><br><span class="line">          Wall,</span><br><span class="line">          Grass</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//* C#完全面向对象 所有类型间接或直接继承了Object类。</span></span><br><span class="line">            <span class="comment">//* 装箱：将其他类型转成Object类型。强制类型转换</span></span><br><span class="line">            <span class="comment">//* 拆箱：将Object类型转成其他类型。强制类型转换</span></span><br><span class="line">            <span class="comment">//(在程序开发中尽量避免拆装箱操作，有消耗)</span></span><br><span class="line">            <span class="built_in">int</span> x = <span class="number">25</span>;</span><br><span class="line">            <span class="comment">//装箱</span></span><br><span class="line">            Object obj = (Object)x;</span><br><span class="line">            <span class="comment">//拆箱</span></span><br><span class="line">            <span class="built_in">int</span> y = (<span class="built_in">int</span>)obj;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;y = &#123;0&#125;&quot;</span>, y);</span><br><span class="line">            <span class="comment">//********************************************************************</span></span><br><span class="line">            <span class="comment">// 精度转换</span></span><br><span class="line">            <span class="built_in">float</span> f = <span class="number">3.14f</span>;</span><br><span class="line">            <span class="built_in">int</span> n = <span class="number">0</span>;</span><br><span class="line">            n = (<span class="built_in">int</span>) f;</span><br><span class="line">            f = n;</span><br><span class="line">            </span><br><span class="line">            <span class="built_in">double</span> df = <span class="number">0.0</span>;</span><br><span class="line">            f = (<span class="built_in">float</span>)df;</span><br><span class="line">            df = f;</span><br><span class="line">          </span><br><span class="line">            n = (<span class="built_in">int</span>)MapType.Grass;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;枚举强制转换为int n=&#123;0&#125;&quot;</span>, n);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;int强制转换为枚举类型 MapType=&#123;0&#125;&quot;</span>, (MapType)n);</span><br><span class="line">            <span class="comment">//********************************************************************</span></span><br><span class="line">            <span class="comment">//引用类型转换</span></span><br><span class="line">            Anni anni = <span class="keyword">new</span> Anni();</span><br><span class="line">            <span class="comment">//子转父 --自动转换</span></span><br><span class="line">            Hero h = anni;</span><br><span class="line">            <span class="keyword">if</span> (h <span class="keyword">is</span> Anni)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;父对象引用子对象，h是Anni类型对象&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//父转子 --强制转换</span></span><br><span class="line">            h = <span class="keyword">new</span> Hero();</span><br><span class="line">            <span class="comment">// anni = (Anni)h;//不安全转换，运行时可能报错，假设h指向的内存不是Anni类型则转换不成功，报异常</span></span><br><span class="line">            <span class="comment">//is关键字</span></span><br><span class="line">            <span class="keyword">if</span> (h <span class="keyword">is</span> Hero)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;h是Hero类型对象&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (h <span class="keyword">is</span> Anni)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;h是Anni类型对象&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;h不是Anni类型对象&quot;</span>);</span><br><span class="line">                Anni anni3 = h <span class="keyword">as</span> Anni;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;使用as关键字转换，anni3=&#123;0&#125;&quot;</span>, anni3);<span class="comment">//anni3=null</span></span><br><span class="line">                h = <span class="keyword">new</span> Anni();</span><br><span class="line">            &#125;</span><br><span class="line">            anni = (Anni)h;</span><br><span class="line">            <span class="keyword">if</span> (anni <span class="keyword">is</span> Anni)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;父对象（引用子对象）强转子对象，anni是Anni类型对象&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//as关键字</span></span><br><span class="line">            anni = h <span class="keyword">as</span> Anni;</span><br><span class="line">            <span class="keyword">if</span> (anni <span class="keyword">is</span> Anni)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;父对象（引用子对象）as转为子对象，anni是Anni类型对象&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//********************************************************************</span></span><br><span class="line">            <span class="comment">//字符串与数字转换</span></span><br><span class="line">            <span class="built_in">string</span> s = <span class="string">&quot;10086&quot;</span>;</span><br><span class="line">            <span class="comment">// int num = (int)s;//强转</span></span><br><span class="line">            <span class="built_in">int</span> num = <span class="built_in">int</span>.Parse(s);<span class="comment">//字符串转数字</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;字符串转数字 num=&#123;0&#125;&quot;</span>, num);</span><br><span class="line">            <span class="comment">//数字转字符串</span></span><br><span class="line">            num = <span class="number">250</span>;</span><br><span class="line">            s = num.ToString();<span class="comment">//方法一：ToString继承于Object类</span></span><br><span class="line">            s = num + <span class="string">&quot;&quot;</span>;<span class="comment">//方法二：数字与字符串相加,做字符串拼接，自动转换为字符串</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;数字转字符串 s=&#123;0&#125;&quot;</span>, s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>面向对像</h1>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Lesson03</span>.类型转换</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Hero</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Hero</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Hero</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Speak</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// Console.WriteLine(&quot;Hero Speak: 我乃&quot; + name);//静态成员（static）无法访问非静态成员</span></span><br><span class="line">            <span class="comment">// this.name = &quot;Hero&quot;; //静态成员函数没有this引用</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Atk</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(name + <span class="string">&quot; 发起了攻击！&quot;</span>);<span class="comment">//name是类的成员变量，也可用this.name</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Say</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//虚函数 可由派生类重写。</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> CLASSNAME = <span class="string">&quot;Hero&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">class</span> <span class="title">Anni</span>: <span class="title">Hero</span> <span class="comment">//派生类</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Anni</span>(): <span class="title">base</span>(<span class="params"><span class="string">&quot;Anni&quot;</span></span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Atk</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">base</span>.Atk();<span class="comment">//使用base调用基类的成员</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Anni 发起了攻击：熊之咆哮。。。。。&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// public new void Say() //new关键字隐藏基类的同名方法</span></span><br><span class="line">        <span class="comment">// &#123;</span></span><br><span class="line">        <span class="comment">//     Console.WriteLine(&quot;Anni Say new: 我是&quot; + this.name);</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Say</span>() <span class="comment">//override 重写基类的虚方法</span></span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Anni Say Override: 熊霸天下&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">class</span> <span class="title">Jax</span>: <span class="title">Hero</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Jax</span>(): <span class="title">base</span>(<span class="params"><span class="string">&quot;Jax&quot;</span></span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">new</span> <span class="keyword">void</span> <span class="title">Say</span>() <span class="comment">//override 重写基类的虚方法</span></span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Jax Say Override: 没想到吧，我又回来了！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">new</span> <span class="built_in">string</span> CLASSNAME = <span class="string">&quot;Jax&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> Lesson03.类型转换; <span class="comment">// 引用类型转换的命名空间，自动引用的命名空间,不引入命名空间Hero无法使用</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Lesson03</span>.面向对象</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">ObjectProgram</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> Hero <span class="title">Fun</span>(<span class="params">Hero h</span>)</span>&#123; <span class="comment">//实参传过来的是对象的地址 出去的还是该对象的地址 是同一个对象</span></span><br><span class="line">            <span class="keyword">return</span> h</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// Hero hero = new Hero(&quot;未命名&quot;);</span></span><br><span class="line">            Lesson03.类型转换.Hero hero = <span class="keyword">new</span> Lesson03.类型转换.Hero(<span class="string">&quot;未命名&quot;</span>);</span><br><span class="line">            Anni anni = <span class="keyword">new</span> Anni();</span><br><span class="line">            Console.WriteLine(anni.name);</span><br><span class="line">            anni.Atk();</span><br><span class="line">            <span class="comment">//多态</span></span><br><span class="line">            hero = <span class="keyword">new</span> Anni();</span><br><span class="line">            hero.Say(); <span class="comment">//调用Anni重写的Say方法</span></span><br><span class="line">            hero = <span class="keyword">new</span> Jax();</span><br><span class="line">            hero.Say(); <span class="comment">//调用Jax重写的Say方法</span></span><br><span class="line">            <span class="comment">//覆盖</span></span><br><span class="line">            Jax jax = <span class="keyword">new</span> Jax();</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;hero类名：&quot;</span> + hero.CLASSNAME);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;jax类名：&quot;</span> + jax.CLASSNAME);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>属性和字段</h1>
<p>在C#中类的<strong>成员属性</strong>称为<strong>字段</strong>，为属性提出新的概念：<strong>属性</strong>是<strong>字段的访问器</strong>。</p>
<p>属性定义方式：<strong>注意</strong>：属性名和字段名是不同的名字！！！</p>
<p><strong>方式一：<strong>使用属性前需要</strong>定义字段名</strong>，并将<strong>属性名和字段名关联</strong>起来。</p>
<p>​        public    属性类型    属性名     {</p>
<p>​                 get {</p>
<p>​                           return 字段名；</p>
<p>​                 }</p>
<p>​                 set {</p>
<p>​                           字段名 = value;</p>
<p>​                 }</p>
<p>​        }</p>
<p>**方式二：**自动属性, 不需要定义具体字段，直接写属性</p>
<p>​       public   属性类型   属性名 { get; }     //只读</p>
<p>​       public   属性类型   属性名 { set; }     //只写</p>
<p>​       public   属性类型   属性名 { get;  set; }     //可读可写</p>
<h2 id="属性和字段的区别">属性和字段的区别</h2>
<ul>
<li>在Unity中<strong>属性不可编辑</strong>。</li>
<li>属性<strong>不可以</strong>用来<strong>引用传递</strong>。</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Hero.cs</span></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Lesson04</span>.属性和字段</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Hero</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">int</span> money;<span class="comment">//字段</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> hp;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> C++访问成员属性做法</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetMoney</span>(<span class="params"><span class="built_in">int</span> money</span>) <span class="comment">//c++设置属性</span></span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.money = money;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">GetMoney</span>() <span class="comment">//c++获取属性</span></span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> money;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//关联属性</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Money <span class="comment">//称为属性  -------money字段的访问器</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> <span class="comment">//用于获取一个字段</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> money;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">set</span> <span class="comment">//用于设置字段</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">value</span> &lt; <span class="number">0</span>)<span class="comment">//value为设置的实际值</span></span><br><span class="line">                &#123;</span><br><span class="line">                    money = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                money = <span class="keyword">value</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="comment">//自动属性</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Hp &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; <span class="comment">//可读可改</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Atk &#123; <span class="keyword">get</span>; &#125;<span class="comment">//只读</span></span><br><span class="line">        <span class="comment">// public int Def &#123; set; &#125;//只写</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Student.cs</span></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Lesson04</span>.属性和字段</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Student</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Book</span> <span class="comment">//Book是Student的成员类（内置类），可以访问Student的私有成员, 这里使用的访问修饰是public, 因为外部类可以访问成员类</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Fun</span>()</span></span><br><span class="line">            &#123;</span><br><span class="line">                Student s = <span class="keyword">new</span> Student(<span class="string">&quot;李四&quot;</span>);</span><br><span class="line">                s.name = <span class="string">&quot;王五&quot;</span>; <span class="comment">//成员类可以访问外部类的私有成员</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">int</span> money;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">string</span> name;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Money</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">set</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">value</span> &lt; <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    money = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    money = <span class="keyword">value</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> money;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Student</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> name;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//PropertyField.cs</span></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Lesson04</span>.属性和字段</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">PropertyField</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Fun</span>(<span class="params"><span class="keyword">ref</span> <span class="built_in">int</span> x</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            x = <span class="number">250</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Hero h = <span class="keyword">new</span> Hero();</span><br><span class="line">            h.Money = <span class="number">1000</span>;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;c#风格 h.Money: &quot;</span> + h.Money);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;c++风格 h.GetMoney(): &quot;</span> + h.GetMoney());</span><br><span class="line"></span><br><span class="line">            h.Hp = <span class="number">100</span>;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;h.Hp: &quot;</span> + h.Hp);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//测试属性是否可以引用传递</span></span><br><span class="line">            <span class="comment">// Fun(ref h.Hp);//属性不能作为out或ref参数进行引用传递。</span></span><br><span class="line">            h.hp = <span class="number">10</span>;</span><br><span class="line">            Fun(<span class="keyword">ref</span> h.hp); </span><br><span class="line">            Console.WriteLine(<span class="string">&quot;字段可以引用传递： h.hp = &#123;0&#125;&quot;</span>, h.hp);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//只读， 属性</span></span><br><span class="line">            Console.WriteLine(<span class="string">&quot;只读型属性h.Atk &quot;</span>+h.Atk); <span class="comment">//public int Atk &#123; get; &#125;</span></span><br><span class="line">            <span class="comment">// h.Atk = 240;</span></span><br><span class="line"></span><br><span class="line">            Student s = <span class="keyword">new</span> Student(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">            s.Money = <span class="number">500</span>;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;学生姓名：&#123;0&#125;， 金钱：&#123;1&#125;&quot;</span>, s.Name, s.Money);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//内置类</span></span><br><span class="line">            Student.Book b = <span class="keyword">new</span> Student.Book();<span class="comment">//内置类使用，C++风格为Student::Book b = new Student::Book();</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>接口</h1>
<ul>
<li>
<p>类向<strong>外部</strong>提供<strong>本类功能</strong>的一种方式称为接口，接口中只能定义方法（行为）是方法的集合。</p>
</li>
<li>
<p>在C#中接口是对类的成员方法的一种抽象，接口是类的功能的一种提取 即提取行为归为接口。（因为单继承所以如果希望外部其他派生类具有本类的某些功能又不能继承本类，就可以让他继承本类提供的接口，接口允许多继承。）</p>
</li>
<li>
<p>通过继承接口，赋予类的行为，这是C#弥补类不支持多继承的一种技术。</p>
</li>
</ul>
<h2 id="接口定义、实现和使用">接口定义、实现和使用</h2>
<p>一般将写接口的文件名的第一个字母用I表示，表明本C#文件是接口文件。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接口的定义----------------------------------------------------------------</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title">ICooker</span>&#123;</span><br><span class="line">    <span class="comment">// public string name; //接口是行为的提取，不能定义字段</span></span><br><span class="line">    <span class="comment">// public void Cooking()&#123;&#125;; //接口中只能定义方法，不能有方法体</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Cooking</span>()</span>; <span class="comment">//接口中只能定义方法，不能有方法体, 谁继承谁实现, 可以不写public默认是public, 而且只能是public修饰。</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title">IPerson</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Eat</span>()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//接口的实现----------------------------------------------------------------</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Student</span>: <span class="title">ICooker</span>, <span class="title">IPerson</span>  <span class="comment">//可以继承多个接口</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//继承接口后必须要实现函数体，否则报错</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Cooking</span>()</span>&#123;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 或者</span></span><br><span class="line">    <span class="keyword">void</span> IPerson.Eat()&#123;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//接口的使用----------------------------------------------------------------</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Interface</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;接口的使用&quot;</span>);</span><br><span class="line">        <span class="comment">//接口的使用</span></span><br><span class="line">        ICooker cooker = <span class="keyword">new</span> Student();</span><br><span class="line">        IPerson person = <span class="keyword">new</span> Student();</span><br><span class="line">        cooker.Cooking();</span><br><span class="line">        person.Eat();</span><br><span class="line">        </span><br><span class="line">        cooker = <span class="keyword">new</span> Teacher();</span><br><span class="line">        person = <span class="keyword">new</span> Teacher();</span><br><span class="line">        cooker.Cooking();</span><br><span class="line">        person.Eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="接口特点">接口特点</h2>
<ul>
<li>接口无法定义字段属性。</li>
<li>接口无法给出函数具体实现，是函数的抽象。</li>
<li><strong>函数定义</strong>的访问权限默认public<s>且只能是public</s>。</li>
<li>继承者需<strong>实现接口</strong>的所有方法且只能是public修饰，或者不使用public修饰但是函数名用接口名引用。</li>
<li>一个类不能继承多个类但是可以继承多个接口。</li>
</ul>
<h1>集合类</h1>
<p><strong>相同类型</strong>的<strong>连续数据</strong>组合称为数组。C#中数组是引用类型，必须用new初始化数组对象。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一维数组定义：</span></span><br><span class="line">数据类型[] 数组名 = <span class="keyword">new</span> 数据类型[长度];  <span class="comment">//数组长度一旦定义就不可更改，长度可用整型变量也可用整型常量。</span></span><br><span class="line">数据类型[] 数组名 = &#123;...&#125;;</span><br><span class="line"><span class="comment">//二维数组定义：</span></span><br><span class="line">数据类型[,] 数组名 = <span class="keyword">new</span> 数据类型[长度<span class="number">1</span>,长度<span class="number">2</span>];</span><br><span class="line">数据类型[,] 数组名 = &#123;&#123;...&#125;,&#123;...&#125;,...&#125;;</span><br><span class="line"><span class="comment">//二维数组的使用方式</span></span><br><span class="line">数组名[行索引，列索引];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">int</span> i=<span class="number">0</span>; i&lt;<span class="number">4</span>; i++)&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> j=<span class="number">0</span>; j&lt;<span class="number">3</span>; j++)&#123;</span><br><span class="line">        Console.WriteLine(arr4[i,j]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> arr4)<span class="comment">//序列for循环， 可以遍历容器里的所有东西</span></span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>泛型集合：泛型容器用于存储数据的一种数据结构。</p>
<ul>
<li>
<p>List&lt;T&gt;：数组</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//列表----------------------------------------------------------</span></span><br><span class="line">List&lt;<span class="built_in">string</span>&gt; li = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line"><span class="comment">//添加</span></span><br><span class="line">li.Add(<span class="string">&quot;古力娜扎&quot;</span>);</span><br><span class="line">li.Add(<span class="string">&quot;迪丽热巴&quot;</span>);</span><br><span class="line">li.Add(<span class="string">&quot;热依扎&quot;</span>);</span><br><span class="line"><span class="comment">//添加数组</span></span><br><span class="line"><span class="built_in">string</span>[] strList = &#123;<span class="string">&quot;赵云&quot;</span>,<span class="string">&quot;马超&quot;</span>,<span class="string">&quot;关羽&quot;</span>,<span class="string">&quot;张飞&quot;</span>&#125;;</span><br><span class="line">li.AddRange(strList);</span><br><span class="line"><span class="comment">//查询</span></span><br><span class="line"><span class="keyword">foreach</span>(<span class="keyword">var</span> item <span class="keyword">in</span> li) &#123;</span><br><span class="line">    Console.WriteLine(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//索引</span></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">int</span> i=<span class="number">0</span>; i&lt;li.Count; i++) &#123;</span><br><span class="line">    Console.WriteLine(li[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//修改</span></span><br><span class="line">li[<span class="number">4</span>] = <span class="string">&quot;马耳他&quot;</span>;</span><br><span class="line">Console.WriteLine(li[<span class="number">4</span>]);</span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="comment">//删值</span></span><br><span class="line">li.Remove(<span class="string">&quot;马耳他&quot;</span>);</span><br><span class="line"><span class="comment">//删索引对应的值</span></span><br><span class="line">li.RemoveAt(<span class="number">4</span>);</span><br><span class="line"><span class="comment">//删全部</span></span><br><span class="line">li.Clear();</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>LinkedList&lt;T&gt;：链表</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//链表----------------------------------------------------------</span></span><br><span class="line">LinkedList&lt;<span class="built_in">string</span>&gt; link = <span class="keyword">new</span> LinkedList&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">link.AddLast(<span class="string">&quot;胡八一&quot;</span>);</span><br><span class="line">link.AddFirst(<span class="string">&quot;雪莉杨&quot;</span>);</span><br><span class="line"><span class="comment">//查找</span></span><br><span class="line">LinkedListNode&lt;<span class="built_in">string</span>&gt; node = link.Find(<span class="string">&quot;胡八一&quot;</span>);</span><br><span class="line">link.AddBefore(node, <span class="string">&quot;刘备&quot;</span>);</span><br><span class="line">node = link.Find(<span class="string">&quot;胡八一&quot;</span>);</span><br><span class="line">link.AddAfter(node, <span class="string">&quot;关羽&quot;</span>);</span><br><span class="line"><span class="keyword">foreach</span>(<span class="keyword">var</span> item <span class="keyword">in</span> link) &#123;</span><br><span class="line">    Console.WriteLine(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//索引不支持</span></span><br><span class="line"><span class="comment">// link[0] = &quot;&quot;;</span></span><br><span class="line"><span class="comment">//查找</span></span><br><span class="line"><span class="comment">// node.Previous;//上一个节点</span></span><br><span class="line"><span class="comment">// node.Next;//下一个节点</span></span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line">node = link.Find(<span class="string">&quot;胡八一&quot;</span>);</span><br><span class="line">link.Remove(node);</span><br><span class="line">link.RemoveFirst();</span><br><span class="line">link.RemoveLast();</span><br><span class="line">link.Clear();</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Dictionary&lt;T, T&gt;：字典 关系型容器</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//字典----------------------------------------------------------</span></span><br><span class="line">Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; dic = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt;();</span><br><span class="line"><span class="comment">//添加键-值对</span></span><br><span class="line">dic.Add(<span class="number">10052</span>, <span class="string">&quot;张颌&quot;</span>);</span><br><span class="line">dic.Add(<span class="number">10032</span>, <span class="string">&quot;张角&quot;</span>);</span><br><span class="line">dic.Add(<span class="number">10096</span>, <span class="string">&quot;张辽&quot;</span>);</span><br><span class="line"><span class="comment">//查找 &amp; 修改</span></span><br><span class="line">dic[<span class="number">10052</span>] = <span class="string">&quot;张鲁&quot;</span>;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> key <span class="keyword">in</span> dic.Keys) &#123;</span><br><span class="line">    Console.WriteLine(key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> <span class="keyword">value</span> <span class="keyword">in</span> dic.Values) &#123;</span><br><span class="line">    Console.WriteLine(<span class="keyword">value</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">foreach</span> (KeyValuePair&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; pair <span class="keyword">in</span> dic) &#123;</span><br><span class="line">    Console.WriteLine(pair.Key.ToString() + <span class="string">&quot;:&quot;</span>+ pair.Value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//查找是否存在键</span></span><br><span class="line"><span class="keyword">if</span> (dic.ContainsKey(<span class="number">10052</span>)) &#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;存在10052-&gt;&quot;</span>+dic[<span class="number">10052</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line">dic.Remove(<span class="number">10052</span>);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>命名空间：using System.Collections.Generic</p>
</li>
</ul>
<p>非泛型集合：不推荐使用(频繁拆装箱操作)，在泛型集合产生之前使用的集合，原理是保存Object类型数据，特点是可以存储任意类型的数据。</p>
<ul>
<li>
<p>ArrayList</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//非泛型集合</span></span><br><span class="line">ArrayList array = <span class="keyword">new</span> ArrayList();</span><br><span class="line">array.Add(<span class="string">&quot;张飞&quot;</span>);</span><br><span class="line">array.Add(<span class="number">250</span>);</span><br><span class="line">array.Add(<span class="number">2.4f</span>);</span><br><span class="line">array.Add(<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line"><span class="keyword">foreach</span>(<span class="keyword">var</span> item <span class="keyword">in</span> array) &#123;</span><br><span class="line">    Console.WriteLine(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>HashTable</p>
</li>
<li>
<p>命名空间：using System.Collections</p>
</li>
</ul>
<h1>泛型编程</h1>
<p>C++模版有模版类和模版函数，但C#没有模版关键字template&lt;typename T&gt;。</p>
<p>泛型编程：</p>
<ul>
<li>
<p>将解决方案和数据类型分离，提取数据类型，数据类型<strong>参数化</strong>。让类或函数只注重解决方案，弱化数据类型，同一解决方案应用于多种不同的数据类型。</p>
</li>
<li>
<p>泛型函数：</p>
<p>定义：返回值类型   函数名&lt;泛型参数&gt;(形参表){函数体}</p>
<p>使用：</p>
<ul>
<li>函数名(实参表);     --------自动检测泛型参数类型</li>
<li>函数名&lt;数据类型&gt;();   或  函数名&lt;数据类型&gt;(实参表);</li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//T泛型参数（数据类型产生）</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Swap</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="keyword">ref</span> T a, <span class="keyword">ref</span> T b</span>)</span> &#123;</span><br><span class="line">    T temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">FunTest</span>&lt;<span class="title">T</span>&gt;()</span>&#123;</span><br><span class="line">    T a = <span class="keyword">new</span> T();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span>&#123;</span><br><span class="line">    <span class="built_in">int</span> a=<span class="number">25</span>, b=<span class="number">36</span>;</span><br><span class="line">    Swap(a,b);</span><br><span class="line">    FunTest&lt;Hero&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>泛型类：</p>
<p>定义：class   类名&lt;泛型参数&gt;{}</p>
<p>使用：类名&lt;数据类型&gt;  对象名 = new 类名&lt;数据类型&gt;();    -------手动输入实际使用数据类型</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">CList</span>&lt;<span class="title">T</span>&gt; &#123;</span><br><span class="line">    T[] arr;</span><br><span class="line">    <span class="built_in">int</span> size;<span class="comment">//存储数据的个数</span></span><br><span class="line">    <span class="built_in">int</span> maxSize;<span class="comment">//最大的容量</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CList</span>(<span class="params"><span class="built_in">int</span> _maxSize</span>)</span> &#123;</span><br><span class="line">        maxSize = _maxSize;</span><br><span class="line">        arr = <span class="keyword">new</span> T[maxSize];</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">T _data</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (size &gt;= maxSize) &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;容量已满，无法添加数据&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        arr[size++] = _data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ShowAll</span>()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            Console.Write(<span class="string">&quot;&#123;0&#125;,&quot;</span>,arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span>&#123;</span><br><span class="line">      CList&lt;<span class="built_in">int</span>&gt; list = <span class="keyword">new</span> CList&lt;<span class="built_in">int</span>&gt;(<span class="number">10</span>);</span><br><span class="line">      list.Add(<span class="number">1</span>);</span><br><span class="line">      list.Add(<span class="number">2</span>);</span><br><span class="line">      list.Add(<span class="number">3</span>);</span><br><span class="line">      list.ShowAll();</span><br><span class="line">      CList&lt;<span class="built_in">string</span>&gt; strList = <span class="keyword">new</span> CList&lt;<span class="built_in">string</span>&gt;(<span class="number">10</span>);</span><br><span class="line">      strList.Add(<span class="string">&quot;古力娜扎&quot;</span>);</span><br><span class="line">      strList.Add(<span class="string">&quot;迪丽热巴&quot;</span>);</span><br><span class="line">      strList.Add(<span class="string">&quot;热依扎&quot;</span>);</span><br><span class="line">      strList.ShowAll();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>泛型约束（约束条件不满足会报错）：</p>
<ol>
<li>
<p>约束泛型类型为值类型: where T: struct              ---------T 必须是数值类型</p>
 <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Swap2</span>&lt;<span class="title">T</span>&gt;(<span class="params">T a, T b</span>) <span class="keyword">where</span> T: <span class="keyword">struct</span></span>&#123;</span><br><span class="line">    T temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//值类型约束</span></span><br><span class="line">Swap2&lt;<span class="built_in">int</span>&gt;(<span class="keyword">ref</span> a, <span class="keyword">ref</span> b);</span><br><span class="line">Hero h1 = <span class="keyword">new</span> Hero();</span><br><span class="line">h1.name = <span class="string">&quot;盖伦&quot;</span>;</span><br><span class="line">Hero h2 = <span class="keyword">new</span> Hero();</span><br><span class="line">h2.name = <span class="string">&quot;提莫&quot;</span>;</span><br><span class="line"><span class="comment">// Swap2&lt;Hero&gt;(ref h1, ref h2);//报错：使用了引用类型  值类型的约束</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>约束泛型类型为引用类型: where T: class              ---------T 必须是引用类型</p>
 <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Swap3</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="keyword">ref</span> T a, <span class="keyword">ref</span> T b</span>) <span class="keyword">where</span> T: <span class="keyword">class</span></span> &#123;</span><br><span class="line">    T temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line">Swap3&lt;Hero&gt;(<span class="keyword">ref</span> h1, <span class="keyword">ref</span> h2);</span><br><span class="line">Console.WriteLine(<span class="string">$&quot;h1=<span class="subst">&#123;h1.name&#125;</span>, h2=<span class="subst">&#123;h2.name&#125;</span>&quot;</span>);</span><br><span class="line"><span class="comment">// Swap3&lt;int&gt;(ref a, ref b);//报错：使用了值类型  引用类型的约束</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>约束泛型类型有无参构造: where T: new()              ------- T  必须有无参数的构造函数否则报错</p>
 <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//T  必须有无参数的构造函数否则报错</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Funtest</span>&lt;<span class="title">T</span>&gt;() <span class="keyword">where</span> T:<span class="keyword">new</span>()</span> &#123;</span><br><span class="line">    T obj = <span class="keyword">new</span> T();</span><br><span class="line">&#125;</span><br><span class="line">Funtest&lt;Hero&gt;();</span><br><span class="line"><span class="comment">// Funtest&lt;Student&gt;();// Funtest&lt;int&gt;();//报错：int没有无参构造函数</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>约束泛型类型继承了某个类或接口: where T: 类名或接口名            -----------T 必须继承了指定的类或接口</p>
 <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Funtest2</span>&lt;<span class="title">T</span>&gt;(<span class="params">T obj</span>) <span class="keyword">where</span> T: IPerson</span> &#123;</span><br><span class="line">    obj.Eat();</span><br><span class="line">&#125;</span><br><span class="line">Funtest2&lt;Hero&gt;(h1);</span><br><span class="line"><span class="comment">// Funtest2&lt;Student&gt;(s);//报错 Student没有实现IPerson接口</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h1>事件和委托</h1>
<p><strong>委托</strong>（类似c++函数指针）：委托是C#中一种<strong>自定义数据类型</strong>，该类型可以保存<strong>函数地址</strong>(其具有<strong>参数表</strong>和函数<strong>返回类型</strong>)，使用委托类型的对象可以将一个函数作为参数传递 或者 批量调用多个函数。</p>
<ul>
<li>
<p>委托类型定义：</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//delegate 返回值类型 委托类型名(参数表);   ----可以保存一个参数表为空，返回值为void的函数地址</span></span><br><span class="line"><span class="function"><span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">Action</span>()</span>;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>委托对象定义：</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//委托类型名 对象名;       -----不需要new初始化</span></span><br><span class="line">Action fun;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>委托对象使用（赋值和调用）：</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">FunTest</span>()</span>&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">FunTest2</span>()</span>&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;FunTest2 is called ....!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">FunTest3</span>()</span>&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">&quot;FunTest3 is called ....!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">fun = FunTest;<span class="comment">//向委托对象赋值</span></span><br><span class="line">fun();<span class="comment">//使用委托对象调用</span></span><br><span class="line"><span class="comment">//批量调多个函数</span></span><br><span class="line">fun += FunTest;</span><br><span class="line">fun += FunTest2;</span><br><span class="line">fun += FunTest3;</span><br><span class="line">fun();</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>委托对象支持操作：+=, -=, =</p>
</li>
</ul>
<p><strong>事件</strong>：是基于<strong>委托</strong>定义的一种对象（变量），本质就是一个<strong>委托对象</strong>（变量），是委托对象的一种<strong>保护使用方式</strong>。C#官方提出 使用事件比使用委托对象更安全。</p>
<ul>
<li>
<p>事件定义：</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//event 委托类型 事件名;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>和普通委托对象的区别：</p>
<ul>
<li>
<p>委托对象支持=运算符，有极大的不安全性，=有覆盖操作（如果委托对象里有若干函数，一旦赋值里面的若干函数都没有了）。</p>
<p>事件对象不支持=运算符，极大的提高安全性。<strong>注意</strong>：如果<strong>定义的事件对象</strong>和给事件对象赋值都发生在同一个类中，那么事件对象支持赋值运算符。（只允许<strong>定义事件对象</strong>的<strong>本类</strong>使用=运算符）</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Boss.cs</span></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Lesson05</span>.事件和委托 &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Boss</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> Action dead;<span class="comment">//普通委托对象</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">event</span> Action deadEvent;<span class="comment">//事件对象</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//EventAndDelegate.cs</span></span><br><span class="line"><span class="function"><span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">Action</span>()</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title">EventAndDelegate</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> Action buttonClicked;<span class="comment">//普通委托对象</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">event</span> Action btnOnEnter;<span class="comment">//事件对象</span></span><br><span class="line">    btnOnEnter += Move;</span><br><span class="line">    btnOnEnter += Rotate;</span><br><span class="line">    btnOnEnter += Scale;</span><br><span class="line">    <span class="comment">//事件btnOnEnter定义在同本类中</span></span><br><span class="line">    btnOnEnter = Scale;</span><br><span class="line">    Boss.dead = Move;</span><br><span class="line">    <span class="comment">//事件deadEvent定义在其他类中</span></span><br><span class="line">    <span class="comment">// Boss.deadEvent = Move;//报错：事件“Boss.deadEvent”只能出现在 += 或 -= 的左边(从类型“Boss”中使用时除外)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>委托对象支持类外进行触发(调用)绑定的函数。</p>
<p>事件对象只支持类中进行触发，提高了事件<strong>触发源头</strong>的确定性（谁定义的事件谁触发 更安全更可靠）。</p>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Boss.cs</span></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Lesson05</span>.事件和委托 &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Boss</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> Action dead;<span class="comment">//普通委托对象</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">event</span> Action deadEvent;<span class="comment">//事件对象</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">BossDeadDispatch</span>()</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (deadEvent != <span class="literal">null</span>) &#123;</span><br><span class="line">                deadEvent();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//EventAndDelegate.cs</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">EventAndDelegate</span> &#123; </span><br><span class="line">  <span class="comment">//事件谁绑定谁触发</span></span><br><span class="line">  Boss.dead += Rotate;</span><br><span class="line">  Boss.deadEvent += Rotate;</span><br><span class="line">  <span class="comment">//触发即调用</span></span><br><span class="line">  Boss.dead();</span><br><span class="line">  Boss.deadEvent();<span class="comment">//只能在定义的源头类触发，报错：事件“Boss.deadEvent”只能出现在 += 或 -= 的左边(从类型“Boss”中使用时除外)CS0070</span></span><br><span class="line">  Boss boss = <span class="keyword">new</span> Boss();</span><br><span class="line">  <span class="comment">//在Boss类中触发</span></span><br><span class="line">  boss.BossDeadDispatch();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>事件使用：</p>
</li>
<li>
<p>事件对象支持的操作：+=, -=    没有=</p>
</li>
</ul>
<h2 id="C-修饰器">C#修饰器</h2>
<p><strong>C#中的[] 中括号，是一种修饰器，用于标记相关属性或者函数的一些 属性</strong></p>
<ul>
<li>
<p>[SerializeField] 在Inspector版面中显示非public属性，并且序列化；若写在public前面，等于没写……（至于序列化是啥，自行脑补……）</p>
<ul>
<li>
<pre><code class="language-c#">  [SerializeField]
  int wolf;
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* [NonSerialized]在Inspector版面中隐藏public属性，并且序列化；如果写在非public属性前面，等于没写</span><br><span class="line"></span><br><span class="line">	* ```c#</span><br><span class="line">		[SerializeField]</span><br><span class="line">		public int wolf;</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
<li>
<p>[AddComponentMenu(“XXX/XX/XXX”)] 让Component菜单下出现你自定义的类，位置是“XXX/XX/XXX”，至于功能么，用过Component的都知道，不用解释了吧……</p>
<ul>
<li>
<pre><code class="language-C#">  [AddComponentMenu(&quot;WolfsGirl/Lilisy&quot;)]
  public class Lilisy: MonoBehaviour&#123;
    
  &#125;
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* [ExecuteInEditMode] 在编辑界面让你的功能（类）起作用，就是你不用点开始，就可你让你的功能起作用</span><br><span class="line"></span><br><span class="line">	* ![img](./8f41f9d1435f9f8c28038794319ff04b.png)</span><br><span class="line"></span><br><span class="line">* [RequireComponent (typeof (ClassName))] 就是在你把**被这句话标记(修饰)的类**拖到（或者AddComponent）GameObject上时，自动再给你加上“ClassName”这个类</span><br><span class="line"></span><br><span class="line">	* ![img](./3573ee7c7320915e2809e6acc1d84b4d.png)</span><br><span class="line"></span><br><span class="line">* [MenuItem (“XXX/XXX”)] 在菜单中出现选项栏，点一下，执行对应功能。注：对应的功能必须是static，同时，使用的时候需要加上using UnityEditor，这个类也要找个Editor文件夹放（一般放“Assets\Editor”），要不……就等着纠结吧~~</span><br><span class="line"></span><br><span class="line">	* ![img](./6d48c10465c9c3c378ad47a192c11adb.png)</span><br><span class="line"></span><br><span class="line">## C#的编译器指令</span><br><span class="line"></span><br><span class="line">**预处理指令不是 C# 代码**，它们是**编译器的指令**，在代码编译之前执行。就像给建筑工人（编译器）的施工说明，告诉它如何处理建筑材料（代码）</span><br><span class="line"></span><br><span class="line">`#region` 和 `#endregion` 是 [C# 语言](https://so.csdn.net/so/search?q=C%23 语言&amp;spm=1001.2101.3001.7020)中的预处理器指令，主要用于代码组织和折叠功能，`#region` 标记用于标记一段代码的开始，后面可以跟一个可选的描述性名称。这个名称用于表示该区域所包含的代码的功能或逻辑分组，如“ClassDefinition”、“Methods”、“EventHandlers”等。假设你有一个非常大的类，其中包含了多个方法、属性以及可能的一些初始化逻辑，为了使代码更整洁，你可以按照功能划分成不同的区域。</span><br><span class="line"></span><br><span class="line">#  unity基础</span><br><span class="line"></span><br><span class="line">unity游戏项目的架构：</span><br><span class="line"></span><br><span class="line">游戏项目----&gt;多个场景构成--------&gt;每个场景由多个层构成-----&gt;每个层可以有多个游戏对象-------&gt;每个游戏对象由若干组件构成</span><br><span class="line"></span><br><span class="line">unity程序界称为&quot;组建编程&quot;，unity的所有功能都是以组件的形式呈现的, 即自己编写的脚本c#文件里的类都是组件名，不是游戏对象名。</span><br><span class="line"></span><br><span class="line">一个最基本的对象（空对象）至少有一个Transform组建。</span><br><span class="line"></span><br><span class="line">1. C#脚本名和脚本里的类名要保持一致，否则无法加载到unity的游戏对象。</span><br><span class="line">2. 继承了MonoBehaviour类的类就可以挂载到unity游戏对象。</span><br><span class="line"></span><br><span class="line">脚本模版修改</span><br><span class="line"></span><br><span class="line">* 找到unity安装目录</span><br><span class="line">	Win:  **/Unity/hub/Editor/版本号/unity/Editor/Data/Resources/ScriptTemplates/</span><br><span class="line"></span><br><span class="line">	Mac: /Applications/Unity/Hub/Editor/2022.3.62f2c1/Unity.app/Contents/Resources/ScriptTemplates</span><br><span class="line"></span><br><span class="line">* 修改包含NewBehaviourScript名的c#模版文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## unity五大视图</span><br><span class="line"></span><br><span class="line">![截屏2025-11-25 21.39.30](./%E6%88%AA%E5%B1%8F2025-11-25%2021.39.30.png)</span><br><span class="line"></span><br><span class="line">1. 场景视图</span><br><span class="line"></span><br><span class="line">	编辑游戏对象和显示游戏对象，可视化编辑界面。</span><br><span class="line"></span><br><span class="line">2. 游戏视图</span><br><span class="line"></span><br><span class="line">	游戏运行实际效果。</span><br><span class="line"></span><br><span class="line">3. 检视/属性视图</span><br><span class="line"></span><br><span class="line">	显示游戏对象的相关组件信息。</span><br><span class="line"></span><br><span class="line">4. 层次视图</span><br><span class="line"></span><br><span class="line">	显示场景中所有对象的层次关系，管理场景界面中的对象：创建   复制   编辑   重命名等操作。</span><br><span class="line"></span><br><span class="line">5. 工程视图</span><br><span class="line"></span><br><span class="line">	显示和管理整个项目所运用的资源。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">运行时编辑游戏对象属性只能用于预览，无法保存属性，需要在非运行时编辑对象才能保存。可以在运行时拷贝修改的组件属性然后非运行是粘贴拷贝的修改内容。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">修改场景界面背景</span><br><span class="line"></span><br><span class="line">* 菜单栏-》窗口-〉Rendering-&gt;Lighting-&gt;Environment-&gt;Skybox Material</span><br><span class="line"></span><br><span class="line">修改游戏视图背景</span><br><span class="line"></span><br><span class="line">* 在层次视图中修改Main Camera的检查视图中的Camera组件的背景。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## Inspector view中的Transform组件</span><br><span class="line"></span><br><span class="line">Transform组件：描述一个3D物体的位置、旋转、缩放</span><br><span class="line"></span><br><span class="line">1. 平移 transformer.position 世界坐标， transformer.localPosition 相对挂载该组件的游戏物体的坐标。</span><br><span class="line">2. 旋转 transformer.rotation</span><br><span class="line">3. 放缩 transformer.localscale</span><br><span class="line"></span><br><span class="line">**获取组件**</span><br><span class="line"></span><br><span class="line">* 在组件脚本中的组件类中获取组件：this.GetComponent\&lt;其他组件类名\&gt;(); 或者GetComponent\&lt;其他组件类名\&gt;()</span><br><span class="line">* 游戏对象获取组件：</span><br><span class="line">	* 先找游戏对像：GameObject sun = GameObject.Find(&quot;对象名&quot;);</span><br><span class="line">	* 再找该游戏对象的组件: sun.GetComponent\&lt;组件名称\&gt;();</span><br><span class="line"></span><br><span class="line">* public字段可以显示在unity的transform组件中并编辑，但是属性不可以显示在unity的transform组件中编辑。</span><br><span class="line"></span><br><span class="line">	```c#</span><br><span class="line">	using System.Collections;</span><br><span class="line">	using System.Collections.Generic;</span><br><span class="line">	using UnityEngine;</span><br><span class="line">	</span><br><span class="line">	public class TransformTest : MonoBehaviour</span><br><span class="line">	&#123;</span><br><span class="line">	    //public字段可以显示在unity的transform组件中的</span><br><span class="line">	    public Vector3 pos;</span><br><span class="line">	    public Vector3 rotate;</span><br><span class="line">	    public Vector3 scale;</span><br><span class="line">	    //属性不可以显示在unity的transform组件中</span><br><span class="line">	    public Vector3 cut &#123;get; set;&#125;</span><br><span class="line">	</span><br><span class="line">	    // Start is called before the first frame update</span><br><span class="line">	    void Start()</span><br><span class="line">	    &#123;</span><br><span class="line">	        print(&quot;游戏运行了 Start函数在第一帧更新前调用一次&quot;);</span><br><span class="line">	        print(&quot;Hello Unity!&quot;);</span><br><span class="line">	        var thisTransform = this.GetComponent&lt;Transform&gt;();</span><br><span class="line">	        GameObject sun = GameObject.Find(&quot;Sun&quot;);</span><br><span class="line">	        Transform sunTransform = sun.GetComponent&lt;Transform&gt;();</span><br><span class="line">	</span><br><span class="line">	        //移动两对象的位置</span><br><span class="line">	        thisTransform.position = new Vector3(-10,0,0);</span><br><span class="line">	        sunTransform.position = new Vector3(0, 5, 0);</span><br><span class="line">	</span><br><span class="line">	        //向量类</span><br><span class="line">	        //2d</span><br><span class="line">	        var v1 = new Vector2(10,20);</span><br><span class="line">	        var v2 = new Vector2(11,5);</span><br><span class="line">	        print(v1-v2);</span><br><span class="line">	        print(v1+v2);</span><br><span class="line">	        print(v1*2f);</span><br><span class="line">	        print(Vector2.Distance(new Vector2(0,10), new Vector2(0,30)));</span><br><span class="line">	        //3d</span><br><span class="line">	        var v3 = new Vector3(10,0,0);</span><br><span class="line">	        var v4 = new Vector3(5, 20);</span><br><span class="line">	        print(v3+v4);</span><br><span class="line">	        print(v3-v4);</span><br><span class="line">	        print(v3*0.5f);</span><br><span class="line">	        print(Vector3.Distance(v3,v4));</span><br><span class="line">	</span><br><span class="line">	    &#125;</span><br><span class="line">	</span><br><span class="line">	    // Update is called once per frame</span><br><span class="line">	    void Update()</span><br><span class="line">	    &#123;</span><br><span class="line">	        print(&quot;unity游戏运行 每帧更新  都调用一次Update&quot;);</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
  <img src="/2025/11/12/unity/image-20251128222810234.png" alt="image-20251128222810234" style="zoom:50%;">
<ul>
<li>静态字段不能显示在Inspector的组件中进行编辑，非public字段也不能显示在Inspector的组件中进行编辑，属性同样不能显示在Inspector的组件中进行编辑。</li>
</ul>
</li>
</ul>
<p><strong>编译器扩展命令</strong>：使得结构体对象可以在Inspector面板中显示,没有扩展命令无法在Inspector面板中显示该类型的变量</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">System.Serializable</span>] <span class="comment">//编辑器扩展命令，使得结构体对象可以在Inspector面板中显示（序列化显示编辑变量）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> Boundary <span class="comment">//边界</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> xMin, xMax, zMin, zMax;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Player</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> moveSpeed;<span class="comment">//移动速度</span></span><br><span class="line">    Rigidbody rigidbody;</span><br><span class="line">    <span class="keyword">public</span> Boundary boundary;<span class="comment">//边界,可以在Inspector面板中显示了</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="生命周期函数测试">生命周期函数测试</h2>
<p>生命周期函数：对象在生存到死亡期间所调用的函数。</p>
<ul>
<li>
<p>Awake函数：唤醒，当对象实例化到场景中时调用一次（且仅一次）的函数</p>
<p>private void Awake(){}</p>
<ul>
<li>
<p>一个对象做好后可以当作别的对像的模版可以将其放入预置体中或预设中。</p>
<p><img src="/2025/11/12/unity/image-20251202113056510.png" alt="image-20251202113056510"></p>
</li>
<li>
<p>预置体是unity的一种<strong>资源</strong>不是<strong>游戏对象</strong>，使用时直接从项目中直接拖拽到层次视图中转成<strong>游戏对象</strong>。</p>
<ul>
<li>游戏对象可以将预置体资源作为属性进行添加，但是预置体资源不能将游戏对象作为属性进行添加。</li>
</ul>
</li>
<li>
<p>用于批量创建，批量修改对象的一种方式。</p>
<img src="/2025/11/12/unity/image-20251202143520311.png" alt="image-20251202143520311" style="zoom:50%;">
</li>
<li>
<p>预置体创建的批量对象可以通过修改一个对象后使用预置体属性的Overrides来更新其他对象。</p>
</li>
<li>
<p>预置体创建的对象也会调用Awake()函数。</p>
</li>
<li>
<p>GameObject GameObject.Instantiate(GameObject prefab);函数会创建后同时调用对象的Awake函数但不会调Start函数。</p>
</li>
</ul>
</li>
<li>
<p>Start()函数：开始函数，在Awake之后调用，当对象激活时调用一次（仅一次）</p>
</li>
<li>
<p>Update()函数：普通函数更新函数，每帧执行一次 约0.02秒 根据计算机刷帧频率决定调用频率。</p>
</li>
<li>
<p>LateUpdate()函数：紧接Update之后调用一次Update，Update每调用一次，LateUpdate紧接其后调用一次。</p>
</li>
<li>
<p>FixedUpdate()函数：固定更新函数，每隔0.02秒固定更新调用一次。通常该函数用于物理运动模拟。</p>
</li>
<li>
<p>OnEnable()函数：每当对象被激活时调用一次。</p>
</li>
<li>
<p>OnDisable()函数：每当对象被禁用时调用一次。</p>
<p><img src="/2025/11/12/unity/image-20251202150653695.png" alt="image-20251202150653695"></p>
</li>
<li>
<p>OnDestroy()函数：当对象销毁时调用一次（仅一次）。在层次窗口中删除了对象即是销毁。</p>
</li>
<li>
<p>Reset()函数：当对象重制时调用一次。</p>
</li>
</ul>
<h2 id="unity常用类">unity常用类</h2>
<ul>
<li>
<p>Time时间类</p>
<ul>
<li>Time.deltaTime: 返回自上一帧完成以来经过的时间量。</li>
<li>Time.time：返回自项目开始播放以来的时间量。</li>
<li></li>
</ul>
</li>
<li>
<p>Debug调试类</p>
<ul>
<li>Debug.LogError()</li>
<li>Debug.Log()</li>
<li>Debug.LogWarning()</li>
</ul>
</li>
<li>
<p>GameObject游戏对象类</p>
<ul>
<li>
<p>类的属性：gameObject{get;}</p>
</li>
<li>
<p>创建对象：public GameObject prefab; GameObject go = GameObject.Instantiate(prefab);</p>
</li>
<li>
<p>删除对象：GameObject.Destroy(go, 3);//3秒后删除</p>
</li>
<li>
<p>找对象：</p>
<ul>
<li>
<p>使用对象名找对象：GameObject GameObject.Find(string name)</p>
</li>
<li>
<p>使用对象标签找对象：GameObject GameObject.FindGameObjectWithTag(string name)</p>
  <img src="/2025/11/12/unity/image-20251202205719179.png" alt="image-20251202205719179" style="zoom:50%;">
</li>
<li>
<p>使用标签找许多游戏对象：GameObject[] GameObject.FindGameObjectsWithTag(string name)</p>
</li>
</ul>
</li>
<li>
<p>对象添加组件：GameObject cat;  cat.AddComponent&lt;组件类名&gt;();  例如：cat.AddComponent&lt;RotateAround&gt;()</p>
</li>
</ul>
</li>
<li>
<p>Input输入类: 例如通过键盘控制对象移动，可以参考：Edit-&gt;Project Settings-&gt;Input Manager</p>
<ul>
<li>
<p>float hor = Input.GetAxis(“Horizontal”); //返回-1到1，左键-1，右键1，不按键0<br>
float ver = Input.GetAxis(“Vertical”);//返回-1到1，下键-1，上键1，不按键0</p>
</li>
<li>
<p>如果想让摄像机跟随游戏对象运动只需将摄像机丢给移动的物体</p>
</li>
<li>
<p>bool Input.GetKeyDown(KeyCode key)：按下&lt;key&gt;键调用一次</p>
</li>
<li>
<p>bool Input.GetKeyUp(KeyCode key)：释放&lt;key&gt;键调用一次</p>
</li>
<li>
<p>bool Input.GetKey(KeyCode key): 按下&lt;key&gt;键后持续调用</p>
</li>
<li>
<p>bool Input.GetButtonDown(string name): 按下名称为name的虚拟按钮调用一次</p>
<ul>
<li>
<p>Input.GetButtonDown(“Fire1”)      -------按left ctrl     --------鼠标左键   ---------手机触屏   都可触发开火                          查-》Edit-&gt;Project Settings-&gt;Input Manager</p>
<p><img src="/2025/11/12/unity/image-20251203215630524.png" alt="image-20251203215630524"></p>
</li>
</ul>
</li>
<li>
<p>bool Input.GetMouseButtonDown(int button): 鼠标按下，button可取0—鼠标左键，1----鼠标右键，2----中键</p>
</li>
</ul>
</li>
<li>
<p>Mathf数学类</p>
<ul>
<li>float Mathf.Abs(float value)</li>
<li>float Mathf.Clamp(float value, float min, float max) 限制 —限制一个值的取值范围  返回值为限定后的值</li>
<li>float Mathf.Sqrt(float value)</li>
<li>float Mathf.Pow(float f, float p)</li>
<li>float Mathf.Repeat(float value, float length) 从value开始输出直到length让后再从value开始循环输出</li>
</ul>
</li>
<li>
<p>Random随机类</p>
<ul>
<li>float Random.Range(float min, float max); [min, max)之间随机生成一个数</li>
</ul>
</li>
<li>
<p>Transform变换组件类</p>
</li>
</ul>
<h2 id="鼠标事件函数">鼠标事件函数</h2>
<ul>
<li>private void OnMouseDown()：鼠标按下</li>
<li>private void OnMouseUp()：鼠标抬起</li>
<li>private void OnMouseDrag()：鼠标拖拽</li>
<li>private void OnMouseEnter(): 鼠标进入</li>
<li>private void OnMouseExit()：鼠标离开</li>
<li>private void OnMouseOver()：鼠标悬浮</li>
<li>private void OnMouseUpAsButton()：鼠标按下并抬起 点击</li>
</ul>
<h2 id="物理引擎">物理引擎</h2>
<p>物理效果模拟工具，unity自带物理引擎，用于模拟3D虚拟世界中物体的受力、运行等状态。</p>
<h3 id="刚体组件">刚体组件</h3>
<p>组件名为Rigidbody, 用于模拟3D世界的物体受力的运行效果，受到力后不会变形的游戏物体，用于挂在到游戏对象中的一种组件。</p>
<p><img src="/2025/11/12/unity/image-20251204201721189.png" alt="image-20251204201721189"></p>
<p><strong>组件介绍</strong></p>
<ul>
<li>Sphere(Mesh Filter): 决定物体对象形状, 可以下载别人通过blender等建模好的物体形状供自己使用。</li>
<li>Mesh Renderer: 渲染物体外表面、光影、材质</li>
<li>Sphere Collider: 碰撞器, 刻画物理过程</li>
<li>Rigidbody: 刚体，刻画物理过程
<ul>
<li>Mass质量：</li>
<li>Drag平动阻力:</li>
<li>Angular Drag转动阻力：</li>
<li>Use Gravity是否使用重力</li>
<li>is Kinematic物体是否受力的作用，选中不受力的作用，不选受力的作用。</li>
<li>Collision Detection:检测物体碰撞的方式，离散时（如果物体运动过快可能捕捉不到碰撞而穿过物体）、连续式（费资源）等</li>
<li>Constraints约束
<ul>
<li>Freeze Position</li>
<li>Freeze Rotation</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="碰撞器">碰撞器</h3>
<p>组件名为Collider用于检测物体之间的碰撞区域并可编辑，无碰撞体组件则物体不检测碰撞。</p>
<ul>
<li>Edit Collider编辑碰撞区域。</li>
<li>Is Trigger触发器，勾线后没有碰撞效果。只检测碰撞但是没有碰撞效果。</li>
<li>Material碰撞材质。</li>
<li>Center编辑碰撞区域的中心位置。</li>
<li>Size编辑碰撞区域的大小。</li>
</ul>
<p>Unity提供检测碰撞的调用函数: 碰撞器检测函数、触发器检测函数。</p>
<p><strong>碰撞器检测函数</strong>：双方是碰撞器（非触发器）时并且有一方有刚体组件方能触发碰撞器</p>
<ul>
<li>void OnCollisionEnter(Collision col)：（this是本物体）进入碰撞（col是其他物体），碰撞，碰撞进入时调用一次，仅一次</li>
<li>void OnCollisionEnter2D(Collision2D col)</li>
<li>void OnCollisionExit(Collision col)：碰撞离开时调用一次，仅一次</li>
<li>void OnCollisionExit2D(Collision2D col)</li>
<li>void OnCollisionStay(Collision col)：碰撞持续调用，离开时停止调用</li>
<li>void OnCollisionStay2D(Collision2D col)</li>
</ul>
<p><strong>触发器检测函数</strong>：双方至少有一方是触发器并且又一方有刚体组件</p>
<ul>
<li>void OnTriggerEnter(Collider col)</li>
<li>void OnTriggerEnter2D(Collider2D col)</li>
<li>void OnTriggerExit(Collider col)</li>
<li>void OnTriggerExit2D(Collider2D col)</li>
<li>void OnTriggerStay(Collider col)</li>
<li>void OnTriggerStay2D(Collider2D col)</li>
</ul>
<p><strong>让摄像机跟随球平动而非平动加转动</strong></p>
<p><img src="/2025/11/12/unity/image-20251208212554198.png" alt="image-20251208212554198"></p>
<h2 id="发布游戏">发布游戏</h2>
<ul>
<li>logo图片-》组件中Texture Type选择2D and UI-&gt;应用</li>
<li>Unity-&gt;File-&gt;Build Settings-&gt;添加场景（两种方式）
<ul>
<li>Add Open Scenes</li>
<li>拖拽Project窗口中的场景</li>
</ul>
</li>
<li>选择平台
<ul>
<li>PC端(Windows, MacOS, Linux)</li>
<li>Android</li>
<li>WebGL</li>
<li>IOS</li>
</ul>
</li>
<li>打包设置player settings
<ul>
<li>公司名Company Name</li>
<li>项目名Project Name</li>
<li>版本号Version</li>
<li>Logo图片 Default Icon</li>
<li>鼠标图片 Default Cursor</li>
</ul>
</li>
<li>发布Build
<ul>
<li>发布包的存储位置</li>
</ul>
</li>
</ul>
<h1>飞机大战</h1>
<ul>
<li>飞机管理类</li>
</ul>
<p>注意：使用单例模式，可以方便通过类名调用挂载的游戏对象而不是生成一个对象，挂载的对象和生成的对象是两个不同的对象。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    *Author: 刘传玺</span></span><br><span class="line"><span class="comment">    *CreateTime: 2025-12-11 15:33:03</span></span><br><span class="line"><span class="comment">    *Title: 游戏控制单例</span></span><br><span class="line"><span class="comment">    *Description:</span></span><br><span class="line"><span class="comment">        控制游戏逻辑</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> PlayerSpace;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.SocialPlatforms.Impl;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">GameManageSpace</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">System.Serializable</span>] <span class="comment">//编辑器扩展命令，使得结构体对象可以在Inspector面板中显示</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">struct</span> Boundary <span class="comment">//边界</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">float</span> xMin, xMax, zMin, zMax;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GameManage</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> GameObject[] gameObjPrefabs;<span class="comment">//游戏对象预置体 用于创建怪物</span></span><br><span class="line">        <span class="comment">//创建频率</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">float</span> createSpeed;</span><br><span class="line">        <span class="built_in">float</span> createTime;</span><br><span class="line">        <span class="keyword">public</span> Boundary boundary;<span class="comment">//边界</span></span><br><span class="line">        <span class="comment">//统计分数</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> score;</span><br><span class="line">        <span class="keyword">public</span> Text scoreText;<span class="comment">//分数文本</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            instance = <span class="keyword">this</span>;<span class="comment">//单例模式赋值,获取Hierarchy中的挂载组件GameManage的GameManage对象</span></span><br><span class="line">            <span class="comment">//初始化挂载对象的内容</span></span><br><span class="line">            scoreText.text = <span class="string">&quot;Score: &quot;</span> + score.ToString();<span class="comment">//scoreText.text是挂载Text UI对象的 text组件中的字段</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ScoreUpdate</span>(<span class="params"><span class="built_in">int</span> scoreIncrease</span>)<span class="comment">//更新挂载对像的分数显示</span></span></span><br><span class="line">        &#123;</span><br><span class="line">            score += scoreIncrease;</span><br><span class="line">            scoreText.text = <span class="string">&quot;Score: &quot;</span> + score.ToString();</span><br><span class="line">        &#125; </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Update is called once per frame</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (Time.time - createTime &gt; createSpeed)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//随机创建敌人</span></span><br><span class="line">                <span class="built_in">int</span> index = Random.Range(<span class="number">0</span>, gameObjPrefabs.Length);</span><br><span class="line">                <span class="keyword">var</span> obj = GameObject.Instantiate(gameObjPrefabs[index]);</span><br><span class="line">                <span class="built_in">float</span> randomX = Random.Range(boundary.xMin, boundary.xMax);</span><br><span class="line">                obj.transform.position = <span class="keyword">new</span> Vector3(randomX,<span class="number">1.6f</span>,<span class="number">9.53f</span>);</span><br><span class="line">                createTime = Time.time;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 单例模式</span></span><br><span class="line">        GameManage()&#123;&#125;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">private</span> GameManage instance;<span class="comment">//静态私有字段</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> GameManage Instance&#123;<span class="comment">//静态公有属性</span></span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> instance;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>玩家类</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Title: 玩家控制</span></span><br><span class="line"><span class="comment">    Description: </span></span><br><span class="line"><span class="comment">        玩家控制移动</span></span><br><span class="line"><span class="comment">        玩家发射子弹</span></span><br><span class="line"><span class="comment">        玩家碰撞处理</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> GameManageSpace;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">PlayerSpace</span></span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Player</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">float</span> moveSpeed;<span class="comment">//移动速度</span></span><br><span class="line">        Rigidbody rigidbody;</span><br><span class="line">        <span class="comment">// Boundary boundary;//边界, 这样使用不管用不是Hierarchy中GameManage组件的boundary</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//子弹发射</span></span><br><span class="line">        <span class="keyword">public</span> GameObject bulletPrefab;<span class="comment">//子弹预制体 </span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">float</span> fireFreq; <span class="comment">//发射频率</span></span><br><span class="line">        <span class="built_in">float</span> fireTimer; <span class="comment">//发射计时器</span></span><br><span class="line">        <span class="comment">// public Transform firePos; //发射位置</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            rigidbody = GetComponent&lt;Rigidbody&gt;();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Update is called once per frame</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (rigidbody != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//移动</span></span><br><span class="line">                <span class="keyword">var</span> hor = Input.GetAxis(<span class="string">&quot;Horizontal&quot;</span>);</span><br><span class="line">                <span class="keyword">var</span> ver = Input.GetAxis(<span class="string">&quot;Vertical&quot;</span>);</span><br><span class="line">                Vector3 moveDir = <span class="keyword">new</span> Vector3(hor, <span class="number">0</span>, ver);</span><br><span class="line">                rigidbody.velocity = moveDir * moveSpeed;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//边界控制</span></span><br><span class="line">            <span class="keyword">var</span> posX = Mathf.Clamp(transform.position.x, GameManage.Instance.boundary.xMin, GameManage.Instance.boundary.xMax);</span><br><span class="line">            <span class="keyword">var</span> posZ = Mathf.Clamp(transform.position.z, GameManage.Instance.boundary.zMin, GameManage.Instance.boundary.zMax);</span><br><span class="line">            <span class="keyword">var</span> posY = transform.position.y;</span><br><span class="line">            transform.position = <span class="keyword">new</span> Vector3(posX, posY, posZ); <span class="comment">//限制位置在边界内</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//发射子弹</span></span><br><span class="line">            <span class="keyword">if</span> (Time.time - fireTimer &gt; fireFreq)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// if (Input.GetKey(KeyCode.Space))</span></span><br><span class="line">                <span class="comment">// &#123;</span></span><br><span class="line"></span><br><span class="line">                    <span class="comment">//通过添加一个空物体设置子弹发射位置，调整子弹生成位置，避免与玩家重合</span></span><br><span class="line">                    <span class="keyword">var</span> firePos = GameObject.Find(<span class="string">&quot;fire_position&quot;</span>);</span><br><span class="line">                    <span class="keyword">var</span> bullet = GameObject.Instantiate(bulletPrefab);</span><br><span class="line">                    bullet.transform.position = firePos.transform.position;</span><br><span class="line">                    fireTimer = Time.time;</span><br><span class="line">                <span class="comment">// &#125;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>爆炸类</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    *Author: 刘传玺</span></span><br><span class="line"><span class="comment">    *CreateTime: 2025-12-11 17:14:07</span></span><br><span class="line"><span class="comment">    *Title:  爆炸删除</span></span><br><span class="line"><span class="comment">    *Description:</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> Unity.VisualScripting;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Explosion</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> deleteTime;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        GameObject.Destroy(<span class="keyword">this</span>.gameObject, deleteTime); <span class="comment">//2秒后销毁爆炸特效</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>敌方类</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    *Author: 刘传玺</span></span><br><span class="line"><span class="comment">    *CreateTime: 2025-12-11 19:37:33</span></span><br><span class="line"><span class="comment">    *Title: 敌机类</span></span><br><span class="line"><span class="comment">    *Description:</span></span><br><span class="line"><span class="comment">        控制敌机 子弹发射 移动</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Enemy</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> moveSpeed;</span><br><span class="line">    <span class="keyword">public</span> GameObject explosionPrefab;<span class="comment">//自己暴躁特效</span></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> rigidbody = GetComponent&lt;Rigidbody&gt;();</span><br><span class="line">        rigidbody.velocity = Vector3.back * moveSpeed;</span><br><span class="line">        <span class="comment">// transform.forward</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnDestroy</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">      	<span class="comment">//Some objects were not cleaned up when closing the scene</span></span><br><span class="line">        <span class="keyword">if</span> (gameObject.scene.isLoaded)<span class="comment">//确保不是场景切换销毁的</span></span><br><span class="line">        &#123;</span><br><span class="line">            GameObject.Instantiate(explosionPrefab, transform.position, Quaternion.identity);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>子弹类</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    *Author: #Name#</span></span><br><span class="line"><span class="comment">    *CreateTime: #CreateTime#</span></span><br><span class="line"><span class="comment">    *Title:</span></span><br><span class="line"><span class="comment">    *Description:</span></span><br><span class="line"><span class="comment">        子弹移动和碰撞检测</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> PlayerSpace;</span><br><span class="line"><span class="keyword">using</span> Unity.VisualScripting;</span><br><span class="line"><span class="keyword">using</span> GameManageSpace;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Bullet</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    Rigidbody rigidbody;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> speed;</span><br><span class="line">    <span class="comment">//优化不要在子弹中添加暴炸预置体</span></span><br><span class="line">    <span class="comment">// public GameObject asteroidExplosionPrefab; //爆炸特效预制体</span></span><br><span class="line">    <span class="comment">// public GameObject enemy1ExplosionPrefab; //爆炸特效预制体</span></span><br><span class="line">    <span class="comment">// public GameObject enemy2ExplosionPrefab; //爆炸特效预制体</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        rigidbody = GetComponent&lt;Rigidbody&gt;();</span><br><span class="line">        <span class="keyword">if</span> (rigidbody != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            rigidbody.velocity = Vector3.forward * speed; <span class="comment">//子弹发射速度</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//用触发器实现了，不用下面的方法</span></span><br><span class="line">        <span class="comment">// Boundary boundary = GameObject.Find(&quot;Player&quot;).GetComponent&lt;Player&gt;().boundary;</span></span><br><span class="line">        <span class="comment">// if (transform.position.z &gt; boundary.zMax)</span></span><br><span class="line">        <span class="comment">// &#123;</span></span><br><span class="line">        <span class="comment">//     Destroy(gameObject); //超出边界销毁子弹</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerEnter</span>(<span class="params">Collider other</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        GameObject explosion;</span><br><span class="line">        <span class="keyword">switch</span> (other.tag)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// case &quot;Background&quot;:</span></span><br><span class="line">            <span class="comment">//     return;</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;Asteroid&quot;</span>:</span><br><span class="line">                <span class="comment">// explosion = GameObject.Instantiate(asteroidExplosionPrefab, other.transform.position, Quaternion.identity); //实例化爆炸特效</span></span><br><span class="line">                GameObject.Destroy(other.gameObject); <span class="comment">//销毁陨石</span></span><br><span class="line">                GameObject.Destroy(gameObject); <span class="comment">//销毁子弹</span></span><br><span class="line">                <span class="comment">// GameObject.Destroy(explosion, 2f); //2秒后销毁爆炸特效</span></span><br><span class="line">                GameManage.Instance.ScoreUpdate(<span class="number">10</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;Enemy1&quot;</span>:</span><br><span class="line">                <span class="comment">// explosion = GameObject.Instantiate(enemy1ExplosionPrefab, other.transform.position, Quaternion.identity); //实例化爆炸特效</span></span><br><span class="line">                GameObject.Destroy(other.gameObject); <span class="comment">//销毁陨石</span></span><br><span class="line">                GameObject.Destroy(gameObject); <span class="comment">//销毁子弹</span></span><br><span class="line">                <span class="comment">// GameObject.Destroy(explosion, 2f); //2秒后销毁爆炸特效</span></span><br><span class="line">                GameManage.Instance.ScoreUpdate(<span class="number">40</span>);</span><br><span class="line">                <span class="comment">// GameManage.score += 40;</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;Enemy2&quot;</span>:</span><br><span class="line">                <span class="comment">// explosion = GameObject.Instantiate(enemy2ExplosionPrefab, other.transform.position, Quaternion.identity); //实例化爆炸特效</span></span><br><span class="line">                GameObject.Destroy(other.gameObject); <span class="comment">//销毁陨石</span></span><br><span class="line">                GameObject.Destroy(gameObject); <span class="comment">//销毁子弹</span></span><br><span class="line">                <span class="comment">// GameObject.Destroy(explosion, 2f); //2秒后销毁爆炸特效</span></span><br><span class="line">                GameManage.Instance.ScoreUpdate(<span class="number">60</span>);</span><br><span class="line">                <span class="comment">// GameManage.score += 60;</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="literal">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// GameObject.Destroy(other.gameObject); //销毁陨石</span></span><br><span class="line">        <span class="comment">// GameObject.Destroy(gameObject); //销毁子弹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>背景类</li>
</ul>
<p>注意：使用项目窗口的材料中的偏移量实现背景的动态移动</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Title: 背景滚动</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Description: 通过材质属性偏移实现背景滚动效果</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Background</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    MeshRenderer meshRD;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> speed;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        meshRD = GetComponent&lt;MeshRenderer&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//更新偏移量</span></span><br><span class="line">        meshRD.material.mainTextureOffset += <span class="keyword">new</span> Vector2(<span class="number">0</span>, speed * Time.deltaTime);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//触发器，子弹离开背景触发器的空间范围删除子弹</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerExit</span>(<span class="params">Collider bullet</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        GameObject.Destroy(bullet.gameObject);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>陨石类</li>
</ul>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    *Author: 刘传玺</span></span><br><span class="line"><span class="comment">    *CreateTime: 2025-12-11 15:08:50</span></span><br><span class="line"><span class="comment">    *Title: 陨石</span></span><br><span class="line"><span class="comment">    *Description:</span></span><br><span class="line"><span class="comment">        控制陨石的 旋转 移动</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEditor;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Asteroid</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> moveSpeed;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> angularSpeed;</span><br><span class="line">    <span class="keyword">public</span> GameObject explosionPrefab;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> rigidbody = GetComponent&lt;Rigidbody&gt;();</span><br><span class="line">        rigidbody.velocity = Vector3.back * moveSpeed;</span><br><span class="line">        <span class="comment">//模拟旋转</span></span><br><span class="line">        rigidbody.angularVelocity = Random.insideUnitSphere * Random.Range(<span class="number">0.5f</span>, <span class="number">2f</span>)*angularSpeed;<span class="comment">//单位球内的向量*随机数,模拟旋转轴</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnDestroy</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//Some objects were not cleaned up when closing the scene</span></span><br><span class="line">        <span class="keyword">if</span> (gameObject.scene.isLoaded)<span class="comment">//确保不是场景切换销毁的</span></span><br><span class="line">        &#123;</span><br><span class="line">            GameObject.Instantiate(explosionPrefab, transform.position, Quaternion.identity);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>枚举值以combobox形式展现</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> BulletType</span><br><span class="line">&#123;</span><br><span class="line">    PlayerBullet,</span><br><span class="line">    EnemyBullet</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Bullet</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    Rigidbody rigidbody;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> speed;</span><br><span class="line">    <span class="keyword">public</span> BulletType type;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2025/11/12/unity/image-20251216210028947.png" alt="image-20251216210028947"></p>
<p><strong>开始UI界面</strong></p>
<p>在做UI-&gt;panel的背景图片时如果把图片放到纹理文件家中是无法给panel添加背景图片的，只有将图片放到Sprite文件夹中且图片的Inspector的Texture Type设置为Sprite (2D and UI)后才能使用图片作为panel背景</p>
<p><img src="/2025/11/12/unity/image-20251218213240205.png" alt="image-20251218213240205"></p>
<img src="/2025/11/12/unity/image-20251218213353493.png" alt="image-20251218213353493" style="zoom:50%;">
<p><strong>切换场景</strong></p>
<p>使用SceneManger.LoadScene(场景名)， 场景必须添加到游戏发布中的场景管理里面才有效。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnClickedStartGame</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//切换游戏场景</span></span><br><span class="line">    SceneManager.LoadScene(<span class="string">&quot;MainGame&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>点击按钮切换场景</strong></p>
<p><img src="/2025/11/12/unity/image-20251218215610879.png" alt="image-20251218215610879"></p>
<h1>多线程</h1>
<p>多线程之间的切换：cpu处理器（主频计时）动态随机切换执行。</p>
<p><strong>多线程</strong>：多个线程（彼此独立）可以在多核CPU上真正并行运行，或者在单核CPU上通过时间片轮转模拟并发。每个线程都有独立的栈空间和执行路径。线程之间可以共享内存数据，因此需要进行同步控制，以避免数据竞争和死锁问题。线程调度由操作系统控制，可能涉及上下文切换，带来一定的开销。</p>
<p><strong>协同程序</strong>：在主线程中开一个协同程序，协助主线程执行实现类似多线程异步执行效果，比多线程开销小。协程不是多线程(由一个主线程产生其他协程)，但有多线程的异步执行效果，开销小使用率高。协程不会并行运行，由编程语言或运行时环境来管理，单个线程中可以运行多个协程。协程之间共享执行线程，但不需要上下文切换，切换开销非常小。</p>
<p><strong>使用协程步骤</strong></p>
<ul>
<li>
<p>定义协同程序函数</p>
<ul>
<li>
<p>函数样子</p>
<ul>
<li>无参协程</li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">IEnumerator <span class="title">FuncName</span>()</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>带参协程</li>
</ul>
  <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">IEnumerator <span class="title">FuncNameParam</span>(<span class="params"><span class="built_in">float</span> t</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>返回值类型为IEnumerator.</p>
</li>
<li>
<p>函数体内必需有yield return语句, 不同于return语句, yield return类似红绿灯 就是等待效果（不是结束执行）。</p>
<ul>
<li>yield return null 等待一帧的时间 然后向下执行。</li>
<li>yield return new WaitForSeconds(5) 等待5秒 然后向下执行。</li>
<li>yield return StartCoroutine(“协同程序名”) 等待该协同程序执行完后 再向下执行。</li>
<li>yield return new WWW(url) 等待一个网络下载任务执行完后 再向下执行。</li>
<li>yield return new FixedUpdate()  等待固定更新函数执行完后 再向下执行。</li>
</ul>
</li>
<li></li>
</ul>
</li>
<li>
<p>开启协程</p>
<ul>
<li>StartCoroutine(string FuncName); 输入无参函数名字符串</li>
<li>StartCoroutine(函数名(参数表)); 输入带参函数调用StartCoroutine(FuncNameParam(3.0))</li>
</ul>
</li>
<li>
<p>关闭协程</p>
<ul>
<li>
<p>StopAllCoroutine() 关闭所有协程</p>
</li>
<li>
<p>UnityEngine.Coroutine coroutineTime;</p>
<p>coroutineTime = StartCoroutine(“Func”);</p>
<p>StopCoroutine(coroutineTime); 关闭指定的协程。StopCoroutine(协程)</p>
</li>
</ul>
</li>
</ul>
<h1>欧拉角和四元数</h1>
<h2 id="欧拉角">欧拉角</h2>
<p>欧拉角：Rotation       X(俯仰$\theta$): 绕X轴的角度       Y(偏航$\psi$)：绕Y轴的角度      Z(滚动$\phi$): 绕Z轴的角度</p>
<p><img src="/2025/11/12/unity/ummbooxg9p.png" alt="img"></p>
<ul>
<li>优点：描述角度直观</li>
<li>缺点：
<ul>
<li>有万向锁(当俯仰角 θ=±90°时，旋转矩阵中两个旋转轴<strong>共线</strong>, 旋转共线的旋转轴无法改变共线状态，状态锁住了)。</li>
<li>数值不连续(俯仰角接近 ±90° 时)，不利于累积旋转优化计算, <strong>旋转顺序</strong>非常关键（嵌套关系最外层的旋转会改变内层的旋转状态），不同领域定义不同
<ul>
<li>航空学：<em>z</em>-<em>y</em>-<em>x</em>（Yaw-Pitch-Roll）</li>
<li>机器人学 / SLAM：常用 <em>x</em>-<em>y</em>-<em>z</em>（Roll-Pitch-Yaw）</li>
<li>Unity: x-y-z (Pitch-Yaw-Roll)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>坐标系</p>
<p>假设有一个<strong>刚体局部坐标系</strong> 和<strong>固定参考坐标系</strong> 。欧拉角描述的是：</p>
<ul>
<li>将局部坐标系 BB<em>B</em> 从初始与 II<em>I</em> 对齐状态旋转到目标姿态，经过<strong>三个依次旋转角度</strong>。</li>
<li>一般记作 $R=R_z(\phi) R_y(\psi) R_x(\theta)$，其中 <em>R</em> 是旋转矩阵。</li>
</ul>
<h2 id="矩阵">矩阵</h2>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/yiyezhai/p/3176725.html">旋转矩阵</a></p>
<ul>
<li>优点：
<ul>
<li>旋转轴可以是任意向量；</li>
</ul>
</li>
<li>缺点：
<ul>
<li>旋转其实只需要知道一个向量+一个角度，一共4个值的信息，但矩阵法却使用了16个元素；</li>
<li>而且在做乘法操作时也会增加计算量，造成了空间和时间上的一些浪费；</li>
</ul>
</li>
</ul>
<h2 id="四元数">四元数</h2>
<p><a target="_blank" rel="noopener" href="https://miracle.blog.csdn.net/article/details/108267844">四元数</a>：$q=w+xi+yj+zk$, w,x,y,z是实数,，i,j,k是虚数单位， 简化为实部 (旋转角度)和虚部（旋转轴）$q=w+\boldsymbol{u}=[w,(x,y,z)]$。</p>
<ul>
<li>优点：
<ul>
<li>解决万向锁。</li>
<li>数值稳定。</li>
</ul>
</li>
<li>缺点：
<ul>
<li>不直观，应用不广（不知道怎么旋转）。</li>
</ul>
</li>
</ul>
<p>在Unity里，tranform组件有一个变量名为rotation，它的类型就是四元数。很多初学者会直接取rotation的x、y、z，认为它们分别对应了Transform面板里R的各个分量。当然很快我们就会发现这是完全不对的。</p>
<p><strong>欧拉角转四元数</strong></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//已知一个欧拉角度(60,0,0) 需要赋给一个游戏物体</span></span><br><span class="line">transform.rotation = <span class="keyword">new</span> Vector3(<span class="number">60</span>, <span class="number">0</span>, <span class="number">0</span>); <span class="comment">//出现问题无法将类型“UnityEngine.Vector3”隐式转换为“UnityEngine.Quaternion”</span></span><br></pre></td></tr></table></figure>
<p>解决方法：通过Unity提供的四元数类的静态成员函数将一个欧拉角转换为四元数</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform.rotation = Quaternion.Euler(<span class="keyword">new</span> Vector3(<span class="number">60</span>, <span class="number">0</span>, <span class="number">0</span>)); </span><br></pre></td></tr></table></figure>
<p><strong>四元数转欧拉角</strong></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//已知物体的旋转（四元数）希望通过欧拉角描述进行观察角度变化</span></span><br><span class="line">Debug.Log(<span class="string">&quot;四元数：&quot;</span>+transform.rotation);</span><br><span class="line"><span class="comment">//解决方案：任何一个四元数转成欧拉角度，是需要使用eulerAngles属性</span></span><br><span class="line">Debug.Log(<span class="string">&quot;欧拉角：&quot;</span>+transform.rotation.eulerAngles);</span><br></pre></td></tr></table></figure>
<p>在Unity引擎中，编辑器使用欧拉角描述使得使用者直观描述3D空间角度，在程序开发API中使用四元数并且做了计算过程的隐藏，不让其他开发者了解具体实现。</p>
<p>Unity开发者需要使用四元数：</p>
<ul>
<li>编辑器中编辑游戏物体时使用欧拉角。</li>
<li>在使用脚本时 将欧拉角转换为四元数。</li>
<li>将执行的四元数转换为欧拉角去打印/理解。</li>
</ul>
<h1>射线检测一</h1>
<p>射线检测是Unity中除碰撞组件之外的一种碰撞检测方式，（注：射线检测不是组件名）。</p>
<p>射线：从一个源点向一个指定方向发射一条无止境的射线，Unity可以检测射线路径过程中所有碰撞对象。</p>
<ul>
<li>
<p>检测前提</p>
<ul>
<li>被检测物体必需有碰撞体组件</li>
</ul>
</li>
<li>
<p>创建射线对象</p>
<ul>
<li>Ray ray = new Ray(firePos.position, firePos.forward);</li>
<li>Ray ray = Camera.main.ScreenPointToRay(Input.mousePosition);// 从主摄像机（源点）向屏幕坐标点创建一条射线</li>
</ul>
</li>
<li>
<p>创建射线碰撞目标信息对象(射线碰撞到了谁、距离射线源多远等信息)</p>
<ul>
<li>RaycastHit hitInfo;</li>
</ul>
</li>
<li>
<p>物理类发射射线 获取碰撞信息</p>
<ul>
<li>
<p>bool isHit = Physics.Raycast(ray, out hitInfo);</p>
</li>
<li>
<pre><code class="language-c#">  //如果碰撞
  if (isHit)&#123;
      Debug.Log(&quot;碰撞到了&quot;+ hitInfo.transform.name);
      Debug.Log(&quot;距离目标&quot;+ hitInfo.distance+&quot;米&quot;);
  &#125;
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">如果想看到射线可以使用辅助工具Gizmos</span><br><span class="line"></span><br><span class="line">```c#</span><br><span class="line">//射线辅助显示工具,OnDrawGizmos 会在程序启动之前就开始调用</span><br><span class="line">private void OnDrawGizmos()</span><br><span class="line">&#123;</span><br><span class="line">    Debug.Log(&quot;OnDrawGizmos is call...&quot;);</span><br><span class="line">    if (isDraw)</span><br><span class="line">    &#123;</span><br><span class="line">        Gizmos.DrawLine(firePos.position, hitPos);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</code></pre>
</li>
</ul>
</li>
</ul>
<h1>射线检测二</h1>
<p><img src="/2025/11/12/unity/%E6%88%AA%E5%B1%8F2026-01-06%2015.05.49.png" alt="截屏2026-01-06 15.05.49"></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Input.GetMouseButtonDown(<span class="number">0</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;鼠标点击位置:&quot;</span>+Input.mousePosition);<span class="comment">//2D屏幕坐标系</span></span><br><span class="line">        <span class="comment">//从主摄像机（源点）向屏幕坐标点创建一条射线</span></span><br><span class="line">        Ray ray = Camera.main.ScreenPointToRay(Input.mousePosition);<span class="comment">//向屏幕点发射射线</span></span><br><span class="line">        <span class="comment">//创建射线碰撞目标信息对象</span></span><br><span class="line">        RaycastHit hitInfo;</span><br><span class="line">        <span class="comment">//发射射线</span></span><br><span class="line">        <span class="built_in">bool</span> isHit = Physics.Raycast(ray, <span class="keyword">out</span> hitInfo);</span><br><span class="line">        <span class="keyword">if</span> (isHit)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (hitInfo.rigidbody)<span class="comment">//刚体不为空</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//获取被击目标的刚体组件, 并给刚体添加一个射线方向的力</span></span><br><span class="line">                hitInfo.rigidbody.AddForce(ray.direction * power);</span><br><span class="line">            &#125;</span><br><span class="line">            drawPos = hitInfo.point;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnDrawGizmos</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Gizmos.DrawLine(Camera.main.transform.position, drawPos);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>射线检测三</h1>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://chauchy-Liu.github.io">刘传玺</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://chauchy-liu.github.io/2025/11/12/unity/">http://chauchy-liu.github.io/2025/11/12/unity/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://chauchy-Liu.github.io" target="_blank">和其光, 同其尘</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/c/">c#</a></div><div class="post_share"><div class="social-share" data-image="https://hexo-theme-snippet-1251680922.cos.ap-beijing.myqcloud.com/img/banner.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2026/01/05/three-js/"><img class="prev-cover" src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover4.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">three_js</div></div></a></div><div class="next-post pull-right"><a href="/2025/11/05/OpenGL-Qt/"><img class="next-cover" src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover7.JPG" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">OpenGL-Qt</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2026/01/09/%E6%95%B0%E5%AD%97%E5%AD%AA%E7%94%9F/" title="数字孪生"><img class="cover" src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2026-01-09</div><div class="title">数字孪生</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Disqus</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">刘传玺</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/chauchy-liu/"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:liuchuanxi_211@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">学习笔记</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">Unity</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E8%8A%82%E5%B7%A5%E5%85%B7"><span class="toc-number">1.0.1.</span> <span class="toc-text">调节工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E8%B0%83%E8%8A%82"><span class="toc-number">1.0.2.</span> <span class="toc-text">视图调节</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AA%97%E5%8F%A3%E8%B0%83%E6%95%B4"><span class="toc-number">1.0.3.</span> <span class="toc-text">窗口调整</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E5%85%A5%E9%80%80%E5%87%BA%E6%92%AD%E6%94%BE%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.0.4.</span> <span class="toc-text">进入退出播放模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E4%BB%A3%E7%A0%81%E4%BF%AE%E6%94%B9%E4%B8%BA%E5%8A%A8%E6%80%81%E7%9A%84"><span class="toc-number">1.0.5.</span> <span class="toc-text">通过代码修改为动态的</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">C#</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#C-%E4%B8%8EC-%E6%98%8E%E6%98%BE%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="toc-number">2.1.</span> <span class="toc-text">C#与C++明显区别：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-%E8%AF%AD%E6%B3%95%E7%AE%80%E8%A6%81%E8%AF%B4%E6%98%8E"><span class="toc-number">2.2.</span> <span class="toc-text">C#语法简要说明</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">解决方案、项目、编译、调试</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">基本数据类型</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">值传递和引用传递</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">6.</span> <span class="toc-text">类型转换</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">7.</span> <span class="toc-text">面向对像</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">8.</span> <span class="toc-text">属性和字段</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E5%92%8C%E5%AD%97%E6%AE%B5%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">8.1.</span> <span class="toc-text">属性和字段的区别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">9.</span> <span class="toc-text">接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89%E3%80%81%E5%AE%9E%E7%8E%B0%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-number">9.1.</span> <span class="toc-text">接口定义、实现和使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E7%89%B9%E7%82%B9"><span class="toc-number">9.2.</span> <span class="toc-text">接口特点</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">10.</span> <span class="toc-text">集合类</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">11.</span> <span class="toc-text">泛型编程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">12.</span> <span class="toc-text">事件和委托</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#C-%E4%BF%AE%E9%A5%B0%E5%99%A8"><span class="toc-number">12.1.</span> <span class="toc-text">C#修饰器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E6%B5%8B%E8%AF%95"><span class="toc-number">12.2.</span> <span class="toc-text">生命周期函数测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#unity%E5%B8%B8%E7%94%A8%E7%B1%BB"><span class="toc-number">12.3.</span> <span class="toc-text">unity常用类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%E5%87%BD%E6%95%B0"><span class="toc-number">12.4.</span> <span class="toc-text">鼠标事件函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%BC%95%E6%93%8E"><span class="toc-number">12.5.</span> <span class="toc-text">物理引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9A%E4%BD%93%E7%BB%84%E4%BB%B6"><span class="toc-number">12.5.1.</span> <span class="toc-text">刚体组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A2%B0%E6%92%9E%E5%99%A8"><span class="toc-number">12.5.2.</span> <span class="toc-text">碰撞器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E6%B8%B8%E6%88%8F"><span class="toc-number">12.6.</span> <span class="toc-text">发布游戏</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">13.</span> <span class="toc-text">飞机大战</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">14.</span> <span class="toc-text">多线程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">15.</span> <span class="toc-text">欧拉角和四元数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AC%A7%E6%8B%89%E8%A7%92"><span class="toc-number">15.1.</span> <span class="toc-text">欧拉角</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A9%E9%98%B5"><span class="toc-number">15.2.</span> <span class="toc-text">矩阵</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E5%85%83%E6%95%B0"><span class="toc-number">15.3.</span> <span class="toc-text">四元数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">16.</span> <span class="toc-text">射线检测一</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">17.</span> <span class="toc-text">射线检测二</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">18.</span> <span class="toc-text">射线检测三</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/01/09/%E6%95%B0%E5%AD%97%E5%AD%AA%E7%94%9F/" title="数字孪生"><img src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数字孪生"/></a><div class="content"><a class="title" href="/2026/01/09/%E6%95%B0%E5%AD%97%E5%AD%AA%E7%94%9F/" title="数字孪生">数字孪生</a><time datetime="2026-01-09T02:28:07.000Z" title="发表于 2026-01-09 10:28:07">2026-01-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/05/three-js/" title="three_js"><img src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="three_js"/></a><div class="content"><a class="title" href="/2026/01/05/three-js/" title="three_js">three_js</a><time datetime="2026-01-05T14:03:18.000Z" title="发表于 2026-01-05 22:03:18">2026-01-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/12/unity/" title="unity"><img src="https://hexo-theme-snippet-1251680922.cos.ap-beijing.myqcloud.com/img/banner.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unity"/></a><div class="content"><a class="title" href="/2025/11/12/unity/" title="unity">unity</a><time datetime="2025-11-12T12:06:59.000Z" title="发表于 2025-11-12 20:06:59">2025-11-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/05/OpenGL-Qt/" title="OpenGL-Qt"><img src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover7.JPG" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OpenGL-Qt"/></a><div class="content"><a class="title" href="/2025/11/05/OpenGL-Qt/" title="OpenGL-Qt">OpenGL-Qt</a><time datetime="2025-11-05T14:17:53.000Z" title="发表于 2025-11-05 22:17:53">2025-11-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/11/04/%E5%BA%94%E7%94%A8%E5%9E%8B%E6%96%87%E7%AB%A0/" title="应用型文章"><img src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN2/post/cover4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="应用型文章"/></a><div class="content"><a class="title" href="/2025/11/04/%E5%BA%94%E7%94%A8%E5%9E%8B%E6%96%87%E7%AB%A0/" title="应用型文章">应用型文章</a><time datetime="2025-11-04T12:39:22.000Z" title="发表于 2025-11-04 20:39:22">2025-11-04</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://hexo-theme-snippet-1251680922.cos.ap-beijing.myqcloud.com/img/banner.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2026 By 刘传玺</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '',
      appKey: '',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'http://chauchy-liu.github.io/2025/11/12/unity/'
    this.page.identifier = '/2025/11/12/unity/'
    this.page.title = 'unity'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }

  document.getElementById('darkmode').addEventListener('click', () => {
    setTimeout(() => window.disqusReset(), 200)
  })
}

if ('Valine' === 'Disqus' || !true) {
  if (true) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"left","width":100,"height":200,"vOffset":-80,"hOffset":0},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>